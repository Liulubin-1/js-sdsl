!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).sdsl={})}(this,function(e){"use strict";var t=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},n=undefined&&undefined.__read||function(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,i=t.call(e),l=[];try{for(;(void 0===r||0<r--)&&!(n=i.next()).done;)l.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(t=i["return"])&&t.call(i)}finally{if(o)throw o.error}}return l},l=undefined&&undefined.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var n,o=0,i=r.length;o<i;o++)!n&&o in r||((n=n||Array.prototype.slice.call(r,0,o))[o]=r[o]);return e.concat(n||Array.prototype.slice.call(r))},u=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function r(e){var r=this;void 0===e&&(e=[]);var o=0,i=[];this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,i.length=0},this.front=function(){return this.empty()?undefined:i[0]},this.back=function(){return this.empty()?undefined:i[o-1]},this.forEach=function(e){i.forEach(e)},this.getElementByPos=function(e){if(e<0||o<=e)throw new Error("pos muse more than 0 and less than vector's size");return i[e]},this.eraseElementByPos=function(e){if(e<0||o<=e)throw new Error("pos muse more than 0 and less than vector's size");for(var r=e;r<o-1;++r)i[r]=i[r+1];this.pop_back()},this.eraseElementByValue=function(r){var t=[];this.forEach(function(e){e!==r&&t.push(e)}),t.forEach(function(e,r){i[r]=e});for(var e=t.length;e<o;)this.pop_back()},this.push_back=function(e){i.push(e),++o},this.pop_back=function(){i.pop(),0<o&&--o},this.setElementByPos=function(e,r){if(e<0||o<=e)throw new Error("pos muse more than 0 and less than vector's size");i[e]=r},this.insert=function(e,r,t){if(void 0===t&&(t=1),e<0||o<e)throw new Error("pos muse more than 0 and less than or equal to vector's size");i.splice.apply(i,l([e,0],n(new Array(t).fill(r)),!1)),o+=t},this.find=function(e){return i.includes(e)},this.reverse=function(){i.reverse()},this.unique=function(){var t,n=[];this.forEach(function(e,r){0!==r&&e===t||(n.push(e),t=e)}),n.forEach(function(e,r){i[r]=e});for(var e=n.length;e<o;)this.pop_back()},this.sort=function(e){i.sort(e)},this[Symbol.iterator]=function(){return function(){return t(this,function(e){switch(e.label){case 0:return[5,u(i)];case 1:return[2,e.sent()]}})}()},e.forEach(function(e){return r.push_back(e)}),Object.freeze(this)}function o(e){var r=this;void 0===e&&(e=[]);var t=0,n=[];this.size=function(){return t},this.empty=function(){return 0===t},this.clear=function(){t=0,n.length=0},this.push=function(e){n.push(e),++t},this.pop=function(){n.pop(),0<t&&--t},this.top=function(){return n[t-1]},e.forEach(function(e){return r.push(e)}),Object.freeze(this)}Object.freeze(r),Object.freeze(o);var i=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},a=function(e){this.val=null,this.pre=null,this.next=null,this.val=e};function y(e){var r=this;void 0===e&&(e=[]);var l=0,u=null,o=null;this.size=function(){return l},this.empty=function(){return 0===l},this.clear=function(){u=o=null,l=0},this.front=function(){return null==u?void 0:u.val},this.back=function(){return null==o?void 0:o.val},this.forEach=function(e){for(var r=u,t=0;null!==r;)e(r.val,t++),r=r.next},this.getElementByPos=function(e){if(e<0||l<=e)throw new Error("pos must more then 0 and less then the list length");for(var r=u;e--&&r;)r=r.next;return null==r?void 0:r.val},this.eraseElementByPos=function(e){if(e<0||l<=e)throw new Error("erase pos must more then 0 and less then the list length");if(0===e)this.pop_front();else if(e===l-1)this.pop_back();else{for(var r=u;e--&&null!=r&&r.next;)r=r.next;if(!r||!r.pre||!r.next)throw new Error("unknown error");var t=r.pre,n=r.next;(n.pre=t).next=n,0<l&&--l}},this.eraseElementByValue=function(e){for(;u&&u.val===e;)this.pop_front();for(;o&&o.val===e;)this.pop_back();if(u)for(var r,t,n=u.next;n;)n.val===e&&(r=n.pre,(t=n.next)&&(t.pre=r),r&&(r.next=t),0<l&&--l),n=n.next},this.push_back=function(e){++l;e=new a(e);o?((o.next=e).pre=o,o=e):u=o=e},this.pop_back=function(){0<l&&--l,o&&(u===o?u=o=null:(o=o.pre)&&(o.next=null))},this.setElementByPos=function(e,r){if(e<0||l<=e)throw new Error("pos must more then 0 and less then the list length");for(var t=u;e--&&t;)t=t.next;t&&(t.val=r)},this.insert=function(e,r,t){if(void 0===t&&(t=1),e<0||l<e)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(t<0)throw new Error("insert size must more then 0");if(0===e)for(;t--;)this.push_front(r);else if(e===l)for(;t--;)this.push_back(r);else{for(var n=u,o=1;o<e&&(null!=n&&n.next);++o)n=null==n?void 0:n.next;if(!n)throw new Error("unknown error");var i=n.next;for(l+=t;t--;)n.next=new a(r),n=(n.next.pre=n).next;(n.next=i)&&(i.pre=n)}},this.find=function(e){for(var r=u;r;){if(r.val===e)return!0;r=r.next}return!1},this.reverse=function(){for(var e=u,r=o,t=0;e&&r&&2*t<l;){var n=e.val;e.val=r.val,r.val=n,e=e.next,r=r.pre,++t}},this.unique=function(){for(var e=u;e;){for(var r=e;r&&r.next&&r.val===r.next.val;)r=r.next,0<l&&--l;e.next=r.next,e=e.next}},this.sort=function(e){var r=[];this.forEach(function(e){r.push(e)}),r.sort(e);var t=u;r.forEach(function(e){t&&(t.val=e,t=t.next)})},this.push_front=function(e){++l;e=new a(e);u=u?(e.next=u).pre=e:o=e},this.pop_front=function(){0<l&&--l,u&&(u===o?u=o=null:(u=u.next)&&(u.pre=null))},this.merge=function(e){var t=this,n=u;e.forEach(function(e){for(;n&&n.val<=e;)n=n.next;var r;n?n===u?(t.push_front(e),n=u):(++l,(r=n.pre)&&(r.next=new a(e),((r.next.pre=r).next.next=n)&&(n.pre=r.next))):(t.push_back(e),n=o)})},this[Symbol.iterator]=function(){return function(){var r;return i(this,function(e){switch(e.label){case 0:r=u,e.label=1;case 1:return null===r?[3,3]:[4,r.val];case 2:return e.sent(),r=r.next,[3,1];case 3:return[2]}})}()},e.forEach(function(e){return r.push_back(e)}),Object.freeze(this)}function h(e){var r=new y(e=void 0===e?[]:e);this.size=function(){return r.size()},this.empty=function(){return r.empty()},this.clear=function(){r.clear()},this.push=function(e){r.push_back(e)},this.pop=function(){r.pop_front()},this.front=function(){return r.front()},Object.freeze(this)}Object.freeze(y),Object.freeze(h);var b=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}};function v(e){var h=[],f=0,s=0,c=0,d=0,y=0,p=(e=void 0===e?[]:e).length,r=p*v.sigma,y=Math.ceil(r/v.bucketSize);y=Math.max(y,3);for(var t=0;t<y;++t)h.push(new Array(v.bucketSize));var n=Math.ceil(p/v.bucketSize),c=f=Math.floor(y/2)-Math.floor(n/2);if(0<p)for(var o=0,t=0;t<n;++t){for(var i=0;i<v.bucketSize;++i)if(h[f+t][i]=e[o++],p<=o){c=f+t,d=i;break}if(p<=o)break}this.size=function(){return p},this.empty=function(){return 0===p},this.clear=function(){f=c=s=d=y=p=0,u.call(this,v.bucketSize),p=0},this.front=function(){return h[f][s]},this.back=function(){return h[c][d]},this.forEach=function(e){if(!this.empty()){var r=0;if(f!==c){for(n=s;n<v.bucketSize;++n)e(h[f][n],r++);for(n=f+1;n<c;++n)for(var t=0;t<v.bucketSize;++t)e(h[n][t],r++);for(n=0;n<=d;++n)e(h[c][n],r++)}else for(var n=s;n<=d;++n)e(h[f][n],r++)}};var l=function(e){var r=f*v.bucketSize+s,e=r+e;if(e<r||c*v.bucketSize+d<e)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(e/v.bucketSize),curNodePointerIndex:e%v.bucketSize}};this.getElementByPos=function(e){var r=l(e),e=r.curNodeBucketIndex,r=r.curNodePointerIndex;return h[e][r]},this.eraseElementByPos=function(e){var r=this;if(e<0||p<e)throw new Error("pos should more than 0 and less than queue's size");if(0===e)this.pop_front();else if(e===this.size())this.pop_back();else{for(var t=[],n=e+1;n<p;++n)t.push(this.getElementByPos(n));this.cut(e),this.pop_back(),t.forEach(function(e){return r.push_back(e)})}},this.eraseElementByValue=function(r){if(!this.empty()){var t=[];this.forEach(function(e){e!==r&&t.push(e)});for(var e=t.length,n=0;n<e;++n)this.setElementByPos(n,t[n]);this.cut(e-1)}};var u=function(e){for(var r=[],t=Math.max(Math.ceil(e*v.sigma/v.bucketSize),2),n=0;n<t;++n)r.push(new Array(v.bucketSize));var o=Math.ceil(e/v.bucketSize),i=Math.floor(t/2)-Math.floor(o/2),l=i,u=0;if(this.size())for(n=0;n<o;++n){for(var a=0;a<v.bucketSize;++a)if(r[i+n][a]=this.front(),this.pop_front(),this.empty()){l=i+n,u=a;break}if(this.empty())break}h=r,f=i,s=0,c=l,d=u,y=t,p=e};this.push_back=function(e){this.empty()||(c===y-1&&d===v.bucketSize-1&&u.call(this,this.size()),d<v.bucketSize-1?++d:c<y-1&&(++c,d=0)),++p,h[c][d]=e},this.pop_back=function(){this.empty()||(1!==this.size()&&(0<d?--d:f<c&&(--c,d=v.bucketSize-1)),0<p&&--p)},this.setElementByPos=function(e,r){var t=l(e),e=t.curNodeBucketIndex,t=t.curNodePointerIndex;h[e][t]=r},this.insert=function(e,r,t){var n=this;if(void 0===t&&(t=1),0===e)for(;t--;)this.push_front(r);else if(e===this.size())for(;t--;)this.push_back(r);else{for(var o=[],i=e;i<p;++i)o.push(this.getElementByPos(i));this.cut(e-1);for(i=0;i<t;++i)this.push_back(r);o.forEach(function(e){return n.push_back(e)})}},this.find=function(e){if(f===c){for(var r=s;r<=d;++r)if(h[f][r]===e)return!0;return!1}for(r=s;r<v.bucketSize;++r)if(h[f][r]===e)return!0;for(r=f+1;r<c;++r)for(var t=0;t<v.bucketSize;++t)if(h[r][t]===e)return!0;for(r=0;r<=d;++r)if(h[c][r]===e)return!0;return!1},this.reverse=function(){for(var e=0,r=p-1;e<r;){var t=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(r)),this.setElementByPos(r,t),++e,--r}},this.unique=function(){if(!this.empty()){var t=[],n=this.front();this.forEach(function(e,r){0!==r&&e===n||(t.push(e),n=e)});for(var e=0;e<p;++e)this.setElementByPos(e,t[e]);this.cut(t.length-1)}},this.sort=function(e){var r=[];this.forEach(function(e){r.push(e)}),r.sort(e);for(var t=0;t<p;++t)this.setElementByPos(t,r[t])},this.push_front=function(e){this.empty()||(0===f&&0===s&&u.call(this,this.size()),0<s?--s:0<f&&(--f,s=v.bucketSize-1)),++p,h[f][s]=e},this.pop_front=function(){this.empty()||(1!==this.size()&&(s<v.bucketSize-1?++s:f<c&&(++f,s=0)),0<p&&--p)},this.shrinkToFit=function(){var r=[];this.forEach(function(e){r.push(e)});var e=r.length;h=[];for(var t=Math.ceil(e/v.bucketSize),n=0;n<t;++n)h.push(new Array(v.bucketSize));this.clear();for(var o=0,n=0;n<t;++n)for(var i=0;i<v.bucketSize;++i)if(h[n][i]=r[o++],e<=o){c=n,d=i;break}p=e},this.cut=function(e){var r,t;e<0?this.clear():(r=(t=l(e)).curNodeBucketIndex,t=t.curNodePointerIndex,c=r,d=t,p=e+1)},this[Symbol.iterator]=function(){return function(){var r,t;return b(this,function(e){switch(e.label){case 0:if(0===p)return[2];if(f!==c)return[3,5];t=s,e.label=1;case 1:return t<=d?[4,h[f][t]]:[3,4];case 2:e.sent(),e.label=3;case 3:return++t,[3,1];case 4:return[2];case 5:t=s,e.label=6;case 6:return t<v.bucketSize?[4,h[f][t]]:[3,9];case 7:e.sent(),e.label=8;case 8:return++t,[3,6];case 9:t=f+1,e.label=10;case 10:if(!(t<c))return[3,15];r=0,e.label=11;case 11:return r<v.bucketSize?[4,h[t][r]]:[3,14];case 12:e.sent(),e.label=13;case 13:return++r,[3,11];case 14:return++t,[3,10];case 15:t=0,e.label=16;case 16:return t<=d?[4,h[c][t]]:[3,19];case 17:e.sent(),e.label=18;case 18:return++t,[3,16];case 19:return[2]}})}()},Object.freeze(this)}function f(e,i){i=i||function(e,r){return r<e?-1:e<r?1:0};var l=[];(e=void 0===e?[]:e).forEach(function(e){return l.push(e)});for(var u=l.length,n=function(e,r){if(e<0||u<=e)throw new Error("unknown error");if(r<0||u<=r)throw new Error("unknown error");var t=l[e];l[e]=l[r],l[r]=t},r=Math.floor((u-1)/2);0<=r;--r)for(var t=r,o=2*t+1;o<u;){var a=o+1,h=o;if(a<u&&0<i(l[o],l[a])&&(h=a),i(l[t],l[h])<=0)break;n(t,h),o=2*(t=h)+1}this.size=function(){return u},this.empty=function(){return 0===u},this.clear=function(){u=0,l.length=0},this.push=function(e){if(l.push(e),1!==++u)for(var r=u-1;0<r;){var t=Math.floor((r-1)/2);if(i(l[t],e)<=0)break;!function(e){if(e<0||u<=e)throw new Error("unknown error");var r=2*e+1,t=2*e+2;r<u&&0<i(l[e],l[r])&&n(e,r),t<u&&0<i(l[e],l[t])&&n(e,t)}(t),r=t}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=l[u-1];--u;for(var r=0;r<this.size();){var t=2*r+1,n=2*r+2;if(t>=this.size())break;var o=t;if(n<this.size()&&0<i(l[t],l[n])&&(o=n),0<=i(l[o],e))break;l[r]=l[o],r=o}l[r]=e}else--u},this.top=function(){return l[0]},Object.freeze(this)}v.sigma=3,v.bucketSize=5e3,Object.freeze(v),Object.freeze(f);var p=(s.prototype.rotateLeft=function(){var e=this.parent,r=this.brother,t=this.leftChild,n=this.rightChild;if(!n)throw new Error("unknown error");var o=n.leftChild,i=n.rightChild;return e&&(e.leftChild===this?e.leftChild=n:e.rightChild===this&&(e.rightChild=n)),n.parent=e,n.brother=r,n.leftChild=this,n.rightChild=i,r&&(r.brother=n),this.parent=n,this.brother=i,this.leftChild=t,this.rightChild=o,i&&(i.parent=n,i.brother=this),t&&(t.parent=this,t.brother=o),o&&(o.parent=this,o.brother=t),n},s.prototype.rotateRight=function(){var e=this.parent,r=this.brother,t=this.leftChild;if(!t)throw new Error("unknown error");var n=this.rightChild,o=t.leftChild,i=t.rightChild;return e&&(e.leftChild===this?e.leftChild=t:e.rightChild===this&&(e.rightChild=t)),t.parent=e,t.brother=r,t.leftChild=o,t.rightChild=this,r&&(r.brother=t),o&&(o.parent=t,o.brother=this),this.parent=t,this.brother=o,this.leftChild=i,this.rightChild=n,i&&(i.parent=this,i.brother=n),n&&(n.parent=this,n.brother=i),t},s.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=null:this===this.parent.rightChild&&(this.parent.rightChild=null)),this.brother&&(this.brother.brother=null),this.key=null,this.value=null,this.parent=null,this.brother=null},s.TreeNodeColorType={red:!0,black:!1},s);function s(e,r){this.color=!0,this.key=null,this.value=null,this.parent=null,this.brother=null,this.leftChild=null,this.rightChild=null,e!==undefined&&r!==undefined&&(this.key=e,this.value=r)}Object.freeze(p);var k=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},C=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function c(e,n){var r=this;void 0===e&&(e=[]),n=n||function(e,r){return e<r?-1:r<e?1:0};var o=0,i=new p;i.color=p.TreeNodeColorType.black,this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,i.leftChild=i.rightChild=i.brother=i.parent=null,i.key=null,i.color=p.TreeNodeColorType.black};var l=function(e){if(!e||null===e.key)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},u=function(e){if(!e||null===e.key)throw new Error("unknown error");return e.rightChild?u(e.rightChild):e};this.front=function(){if(this.empty())return undefined;var e=l(i);return null===e.key?undefined:e.key},this.back=function(){if(this.empty())return undefined;var e=u(i);return null===e.key?undefined:e.key};var a=function(e,r){return!(!e||null===e.key)&&(!!a(e.leftChild,r)||(!!r(e)||a(e.rightChild,r)))};this.forEach=function(r){var t=0;a(i,function(e){if(null===e.key)throw new Error("unknown error");return r(e.key,t++),!1})},this.getElementByPos=function(r){if(r<0||r>=this.size())throw new Error("pos must more than 0 and less than set's size");var t=0,n=null;if(a(i,function(e){return r===t?(n=e.key,!0):(++t,!1)}),null===n)throw new Error("unknown error");return n};var h=function(e){var r=e.parent;if(!r){if(e===i)return;throw new Error("unknown error")}if(e.color!==p.TreeNodeColorType.red){var t,n=e.brother;if(!n)throw new Error("unknown error");e===r.leftChild?n.color===p.TreeNodeColorType.red?(n.color=p.TreeNodeColorType.black,r.color=p.TreeNodeColorType.red,t=r.rotateLeft(),i===r&&(i=t),h(e)):n.color===p.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===p.TreeNodeColorType.red?(n.color=r.color,r.color=p.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=p.TreeNodeColorType.black),t=r.rotateLeft(),i===r&&(i=t),e.color=p.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==p.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==p.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==p.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==p.TreeNodeColorType.black||(n.color=p.TreeNodeColorType.red,h(r)):(n.color=p.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=p.TreeNodeColorType.black),t=n.rotateRight(),i===n&&(i=t),h(e))):e===r.rightChild&&(n.color===p.TreeNodeColorType.red?(n.color=p.TreeNodeColorType.black,r.color=p.TreeNodeColorType.red,t=r.rotateRight(),i===r&&(i=t),h(e)):n.color===p.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===p.TreeNodeColorType.red?(n.color=r.color,r.color=p.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=p.TreeNodeColorType.black),t=r.rotateRight(),i===r&&(i=t),e.color=p.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==p.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==p.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==p.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==p.TreeNodeColorType.black||(n.color=p.TreeNodeColorType.red,h(r)):(n.color=p.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=p.TreeNodeColorType.black),t=n.rotateLeft(),i===n&&(i=t),h(e))))}else e.color=p.TreeNodeColorType.black},f=function(e){for(var r,t=e;t.leftChild||t.rightChild;)t.rightChild&&(t=l(t.rightChild),r=e.key,e.key=t.key,t.key=r,e=t),t.leftChild&&(t=u(t.leftChild),r=e.key,e.key=t.key,t.key=r,e=t);h(t),t&&t.remove(),--o,i.color=p.TreeNodeColorType.black};this.eraseElementByPos=function(r){if(r<0||o<=r)throw new Error("pos must more than 0 and less than set's size");var t=0;a(i,function(e){return r===t?(f(e),!0):(++t,!1)})},this.eraseElementByValue=function(e){var r;this.empty()||null!==(r=d(i,e))&&null!==r.key&&0===n(r.key,e)&&f(r)};var s=function(e,r){if(!e||null===e.key)throw new Error("unknown error");var t=n(r,e.key);return t<0?e.leftChild?s(e.leftChild,r):(e.leftChild=new p,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<t?e.rightChild?s(e.rightChild,r):(e.rightChild=new p,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},c=function(e){var r=e.parent;if(!r){if(e===i)return;throw new Error("unknown error")}if(r.color!==p.TreeNodeColorType.black&&r.color===p.TreeNodeColorType.red){var t,n=r.brother,o=r.parent;if(!o)throw new Error("unknown error");n&&n.color===p.TreeNodeColorType.red?(n.color=r.color=p.TreeNodeColorType.black,o.color=p.TreeNodeColorType.red,c(o)):n&&n.color!==p.TreeNodeColorType.black||(r===o.leftChild?e===r.leftChild?(r.color=p.TreeNodeColorType.black,o.color=p.TreeNodeColorType.red,t=o.rotateRight(),o===i&&(i=t)):e===r.rightChild&&(t=r.rotateLeft(),o===i&&(i=t),c(r)):r===o.rightChild&&(e===r.leftChild?(t=r.rotateRight(),o===i&&(i=t),c(r)):e===r.rightChild&&(r.color=p.TreeNodeColorType.black,o.color=p.TreeNodeColorType.red,t=o.rotateLeft(),o===i&&(i=t))))}};this.insert=function(e){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++o,i.key=e,void(i.color=p.TreeNodeColorType.black);var r=s(i,e);null!==r.key&&0===n(r.key,e)||(++o,r.key=e,c(r),i.color=p.TreeNodeColorType.black)};var d=function(e,r){if(!e||null===e.key)return null;var t=n(r,e.key);return t<0?d(e.leftChild,r):0<t?d(e.rightChild,r):e};this.find=function(e){var r=d(i,e);return null!==r&&null!==r.key&&0===n(r.key,e)},this.union=function(e){var r=this;e.forEach(function(e){return r.insert(e)})},this.getHeight=function(){if(this.empty())return 0;var r=function(e){return e?Math.max(r(e.leftChild),r(e.rightChild))+1:1};return r(i)};var t=function(r){return k(this,function(e){switch(e.label){case 0:return r&&null!==r.key?[5,C(t(r.leftChild))]:[2];case 1:return e.sent(),[4,r.key];case 2:return e.sent(),[5,C(t(r.rightChild))];case 3:return e.sent(),[2]}})};this[Symbol.iterator]=function(){return t(i)},e.forEach(function(e){return r.insert(e)}),Object.freeze(this)}Object.freeze(c);var w=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},T=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function g(e,n){var t=this;void 0===e&&(e=[]),n=n||function(e,r){return e<r?-1:r<e?1:0};var o=0,i=new p;i.color=p.TreeNodeColorType.black,this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,(i=new p).color=p.TreeNodeColorType.black};var l=function(e){if(!e||null===e.key)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},u=function(e){if(!e||null===e.key)throw new Error("unknown error");return e.rightChild?u(e.rightChild):e};this.front=function(){if(this.empty())return undefined;var e=l(i);if(null===e.key||null===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}},this.back=function(){if(this.empty())return undefined;var e=u(i);if(null===e.key||null===e.value)throw new Error("unknown error");return{key:e.key,value:e.value}};var a=function(e,r){return!(!e||null===e.key)&&(!!a(e.leftChild,r)||(!!r(e)||a(e.rightChild,r)))};this.forEach=function(r){var t=0;a(i,function(e){if(null===e.key||null===e.value)throw new Error("unknown error");return r({key:e.key,value:e.value},t++),!1})},this.getElementByPos=function(r){if(r<0||r>=this.size())throw new Error("pos must more than 0 and less than set's size");var t=0,n=null;if(a(i,function(e){if(r!==t)return++t,!1;if(null===e.key||null===e.value)throw new Error("unknown error");return n={key:e.key,value:e.value},!0}),null===n)throw new Error("unknown error");return n};var h=function(e){var r=e.parent;if(!r){if(e===i)return;throw new Error("unknown error")}if(e.color!==p.TreeNodeColorType.red){var t,n=e.brother;if(!n)throw new Error("unknown error");e===r.leftChild?n.color===p.TreeNodeColorType.red?(n.color=p.TreeNodeColorType.black,r.color=p.TreeNodeColorType.red,t=r.rotateLeft(),i===r&&(i=t),h(e)):n.color===p.TreeNodeColorType.black&&(n.rightChild&&n.rightChild.color===p.TreeNodeColorType.red?(n.color=r.color,r.color=p.TreeNodeColorType.black,n.rightChild&&(n.rightChild.color=p.TreeNodeColorType.black),t=r.rotateLeft(),i===r&&(i=t),e.color=p.TreeNodeColorType.black):n.rightChild&&n.rightChild.color!==p.TreeNodeColorType.black||!n.leftChild||n.leftChild.color!==p.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==p.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==p.TreeNodeColorType.black||(n.color=p.TreeNodeColorType.red,h(r)):(n.color=p.TreeNodeColorType.red,n.leftChild&&(n.leftChild.color=p.TreeNodeColorType.black),t=n.rotateRight(),i===n&&(i=t),h(e))):e===r.rightChild&&(n.color===p.TreeNodeColorType.red?(n.color=p.TreeNodeColorType.black,r.color=p.TreeNodeColorType.red,t=r.rotateRight(),i===r&&(i=t),h(e)):n.color===p.TreeNodeColorType.black&&(n.leftChild&&n.leftChild.color===p.TreeNodeColorType.red?(n.color=r.color,r.color=p.TreeNodeColorType.black,n.leftChild&&(n.leftChild.color=p.TreeNodeColorType.black),t=r.rotateRight(),i===r&&(i=t),e.color=p.TreeNodeColorType.black):n.leftChild&&n.leftChild.color!==p.TreeNodeColorType.black||!n.rightChild||n.rightChild.color!==p.TreeNodeColorType.red?n.leftChild&&n.leftChild.color!==p.TreeNodeColorType.black||n.rightChild&&n.rightChild.color!==p.TreeNodeColorType.black||(n.color=p.TreeNodeColorType.red,h(r)):(n.color=p.TreeNodeColorType.red,n.rightChild&&(n.rightChild.color=p.TreeNodeColorType.black),t=n.rotateLeft(),i===n&&(i=t),h(e))))}else e.color=p.TreeNodeColorType.black},f=function(e){for(var r,t,n=e;n.leftChild||n.rightChild;)n.rightChild&&(n=l(n.rightChild),r=e.key,e.key=n.key,n.key=r,t=e.value,e.value=n.value,n.value=t,e=n),n.leftChild&&(n=u(n.leftChild),r=e.key,e.key=n.key,n.key=r,t=e.value,e.value=n.value,n.value=t,e=n);h(n),n&&n.remove(),--o,i.color=p.TreeNodeColorType.black};this.eraseElementByPos=function(r){if(r<0||o<=r)throw new Error("pos must more than 0 and less than set's size");var t=0;a(i,function(e){return r===t?(f(e),!0):(++t,!1)})},this.eraseElementByKey=function(e){var r;this.empty()||null!==(r=d(i,e))&&null!==r.key&&0===n(r.key,e)&&f(r)};var s=function(e,r){if(!e||null===e.key)throw new Error("unknown error");var t=n(r,e.key);return t<0?e.leftChild?s(e.leftChild,r):(e.leftChild=new p,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<t?e.rightChild?s(e.rightChild,r):(e.rightChild=new p,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},c=function(e){var r=e.parent;if(!r){if(e===i)return;throw new Error("unknown error")}if(r.color!==p.TreeNodeColorType.black&&r.color===p.TreeNodeColorType.red){var t,n=r.brother,o=r.parent;if(!o)throw new Error("unknown error");n&&n.color===p.TreeNodeColorType.red?(n.color=r.color=p.TreeNodeColorType.black,o.color=p.TreeNodeColorType.red,c(o)):n&&n.color!==p.TreeNodeColorType.black||(r===o.leftChild?e===r.leftChild?(r.color=p.TreeNodeColorType.black,o.color=p.TreeNodeColorType.red,t=o.rotateRight(),o===i&&(i=t)):e===r.rightChild&&(t=r.rotateLeft(),o===i&&(i=t),c(r)):r===o.rightChild&&(e===r.leftChild?(t=r.rotateRight(),o===i&&(i=t),c(r)):e===r.rightChild&&(r.color=p.TreeNodeColorType.black,o.color=p.TreeNodeColorType.red,t=o.rotateLeft(),o===i&&(i=t))))}};this.setElement=function(e,r){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==r&&r!==undefined){if(this.empty())return++o,i.key=e,i.value=r,void(i.color=p.TreeNodeColorType.black);var t=s(i,e);null===t.key||0!==n(t.key,e)?(++o,t.key=e,t.value=r,c(t),i.color=p.TreeNodeColorType.black):t.value=r}else this.eraseElementByKey(e)};var d=function(e,r){if(!e||null===e.key)return null;var t=n(r,e.key);return t<0?d(e.leftChild,r):0<t?d(e.rightChild,r):e};this.find=function(e){return!!d(i,e)},this.getElementByKey=function(e){e=d(i,e);if(null===e)return undefined;if(null===e.key||null===e.value)throw new Error("unknown error");return e.value},this.union=function(e){var t=this;e.forEach(function(e){var r=e.key,e=e.value;return t.setElement(r,e)})},this.getHeight=function(){if(this.empty())return 0;var r=function(e){return e?Math.max(r(e.leftChild),r(e.rightChild))+1:1};return r(i)};var y=function(r){return w(this,function(e){switch(e.label){case 0:return r&&null!==r.key&&null!==r.value?[5,T(y(r.leftChild))]:[2];case 1:return e.sent(),[4,{key:r.key,value:r.value}];case 2:return e.sent(),[5,T(y(r.rightChild))];case 3:return e.sent(),[2]}})};this[Symbol.iterator]=function(){return y(i)},e.forEach(function(e){var r=e.key,e=e.value;return t.setElement(r,e)}),Object.freeze(this)}Object.freeze(g);var d=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},m=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function E(e,r,h){var t=this;if(void 0===e&&(e=[]),h=h||function(e){var r=0,t="";if("number"==typeof e)r=((r=Math.floor(e))<<5)-r,r&=r;else for(var t="string"!=typeof e?JSON.stringify(e):e,n=0;n<t.length;n++){r=(r<<5)-r+t.charCodeAt(n);r&=r}return r^=r>>>16},0!=((r=void 0===r?E.initSize:r)&r-1))throw new Error("initBucketNum must be 2 to the power of n");var o=0,f=[],s=Math.max(E.initSize,Math.min(E.maxSize,r));this.size=function(){return o},this.empty=function(){return 0===o},this.clear=function(){o=0,s=r,f=[]},this.forEach=function(r){var t=0;f.forEach(function(e){e.forEach(function(e){r(e,t++)})})};this.insert=function(e){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var r=h(e)&s-1;if(f[r]){var t=f[r].size();if(f[r]instanceof y){if(f[r].find(e))return;f[r].push_back(e),f[r].size()>=E.treeifyThreshold&&(f[r]=new c(f[r]))}else f[r].insert(e);var n=f[r].size();o+=n-t}else f[r]=new y([e]),++o;s*E.sigma<o&&!function(u){var a;E.maxSize<=u||(s=2*u,a=[],f.forEach(function(e,r){if(!e.empty()){if(e instanceof y&&1===e.size()){var t=e.front();if(t===undefined)throw new Error("unknown error");a[h(t)&s-1]=new y([t])}else{var n,o,i,l;e instanceof c?(n=new y,o=new y,e.forEach(function(e){(0==(h(e)&u)?n:o).push_back(e)}),n.size()>E.untreeifyThreshold&&(n=new c(n)),o.size()>E.untreeifyThreshold&&(o=new c(o)),n.size()&&(a[r]=n),o.size()&&(a[r+u]=o)):(i=new y,l=new y,e.forEach(function(e){(0==(h(e)&u)?i:l).push_back(e)}),i.size()&&(a[r]=i),l.size()&&(a[r+u]=l))}f[r].clear()}}),f=a)}.call(this,s)},this.eraseElementByValue=function(e){var r,t=h(e)&s-1;f[t]&&(r=f[t].size(),f[t].eraseElementByValue(e),f[t]instanceof c&&f[t].size()<=E.untreeifyThreshold&&(f[t]=new y(f[t])),t=f[t].size(),o+=t-r)},this.find=function(e){var r=h(e)&s-1;return!!f[r]&&f[r].find(e)},this[Symbol.iterator]=function(){return function(){var r,t,n,o,i,l;return d(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:if(!(r<s))return[3,10];for(;r<s&&!f[r];)++r;if(s<=r)return[3,10];e.label=2;case 2:e.trys.push([2,7,8,9]),i=void 0,t=m(f[r]),n=t.next(),e.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:e.sent(),e.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return o=e.sent(),i={error:o},[3,9];case 8:try{n&&!n.done&&(l=t["return"])&&l.call(t)}finally{if(i)throw i.error}return[7];case 9:return++r,[3,1];case 10:return[2]}})}()},e.forEach(function(e){return t.insert(e)}),Object.freeze(this)}E.initSize=16,E.maxSize=1<<30,E.sigma=.75,E.treeifyThreshold=8,E.untreeifyThreshold=6,E.minTreeifySize=64,Object.freeze(E);var z=undefined&&undefined.__generator||function(t,n){var o,i,l,u={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:r(0),"throw":r(1),"return":r(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function r(r){return function(e){return a([r,e])}}function a(e){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(l=2&e[0]?i["return"]:e[0]?i["throw"]||((l=i["return"])&&l.call(i),0):i.next)&&!(l=l.call(i,e[1])).done)return l;switch(i=0,(e=l?[2&e[0],l.value]:e)[0]){case 0:case 1:l=e;break;case 4:return u.label++,{value:e[1],done:!1};case 5:u.label++,i=e[1],e=[0];continue;case 7:e=u.ops.pop(),u.trys.pop();continue;default:if(!(l=0<(l=u.trys).length&&l[l.length-1])&&(6===e[0]||2===e[0])){u=0;continue}if(3===e[0]&&(!l||e[1]>l[0]&&e[1]<l[3])){u.label=e[1];break}if(6===e[0]&&u.label<l[1]){u.label=l[1],l=e;break}if(l&&u.label<l[2]){u.label=l[2],u.ops.push(e);break}l[2]&&u.ops.pop(),u.trys.pop();continue}e=n.call(t,u)}catch(r){e=[6,r],i=0}finally{o=l=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}},N=undefined&&undefined.__values||function(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&n>=e.length?void 0:e)&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function x(e,r,f){var t=this;if(void 0===e&&(e=[]),f=f||function(e){var r,t,n=0,o="";if("number"==typeof e)n=((n=Math.floor(e))<<5)-n,n&=n;else{o="string"!=typeof e?JSON.stringify(e):e;try{for(var i=N(o),l=i.next();!l.done;l=i.next()){n=(n<<5)-n+l.value.charCodeAt(0);n&=n}}catch(u){r={error:u}}finally{try{l&&!l.done&&(t=i["return"])&&t.call(i)}finally{if(r)throw r.error}}}return n^=n>>>16},0!=((r=void 0===r?x.initSize:r)&r-1))throw new Error("initBucketNum must be 2 to the power of n");var s=0,c=[],d=Math.max(x.initSize,Math.min(x.maxSize,r));this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,d=r,c=[]},this.forEach=function(r){var t=0;c.forEach(function(e){e.forEach(function(e){r(e,t++)})})};this.setElement=function(e,r){var t;if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(null!==r&&r!==undefined){var n=f(e)&d-1;if(c[n]){var o=c[n].size();if(c[n]instanceof y){try{for(var i=N(c[n]),l=i.next();!l.done;l=i.next()){var u=l.value;if(u.key===e)return void(u.value=r)}}catch(h){a={error:h}}finally{try{l&&!l.done&&(t=i["return"])&&t.call(i)}finally{if(a)throw a.error}}c[n].push_back({key:e,value:r}),c[n].size()>=x.treeifyThreshold&&(c[n]=new g(c[n]))}else c[n].setElement(e,r);var a=c[n].size();s+=a-o}else++s,c[n]=new y([{key:e,value:r}]);d*x.sigma<s&&!function(a){var h;x.maxSize<=a||(d=2*a,h=[],c.forEach(function(e,r){var t,n,o,i,l,u;e.empty()||(e instanceof y&&1===e.size()?(t=(n=e.front()).key,n=n.value,h[f(t)&d-1]=new y([{key:t,value:n}])):e instanceof g?(o=new y,i=new y,e.forEach(function(e){(0==(f(e.key)&a)?o:i).push_back(e)}),o.size()>x.untreeifyThreshold&&(o=new g(o)),i.size()>x.untreeifyThreshold&&(i=new g(i)),o.size()&&(h[r]=o),i.size()&&(h[r+a]=i)):(l=new y,u=new y,e.forEach(function(e){(0==(f(e.key)&a)?l:u).push_back(e)}),l.size()&&(h[r]=l),u.size()&&(h[r+a]=u)),c[r].clear())}),c=h)}.call(this,d)}else this.eraseElementByKey(e)},this.getElementByKey=function(e){var r,t,n=f(e)&d-1;if(!c[n])return undefined;if(c[n]instanceof g)return c[n].getElementByKey(e);try{for(var o=N(c[n]),i=o.next();!i.done;i=o.next()){var l=i.value;if(l.key===e)return l.value}}catch(u){r={error:u}}finally{try{i&&!i.done&&(t=o["return"])&&t.call(o)}finally{if(r)throw r.error}}return undefined},this.eraseElementByKey=function(e){var r,t=f(e)&d-1;if(c[t]){var n=c[t].size();if(c[t]instanceof g)c[t].eraseElementByKey(e),c[t].size()<=x.untreeifyThreshold&&(c[t]=new y(c[t]));else{var o=-1;try{for(var i=N(c[t]),l=i.next();!l.done;l=i.next()){var u=l.value;if(++o,u.key===e){c[t].eraseElementByPos(o);break}}}catch(h){a={error:h}}finally{try{l&&!l.done&&(r=i["return"])&&r.call(i)}finally{if(a)throw a.error}}}var a=c[t].size();s+=a-n}},this.find=function(e){var r,t,n=f(e)&d-1;if(!c[n])return!1;if(c[n]instanceof g)return c[n].find(e);try{for(var o=N(c[n]),i=o.next();!i.done;i=o.next())if(i.value.key===e)return!0}catch(l){r={error:l}}finally{try{i&&!i.done&&(t=o["return"])&&t.call(o)}finally{if(r)throw r.error}}return!1},this[Symbol.iterator]=function(){return function(){var r,t,n,o,i,l;return z(this,function(e){switch(e.label){case 0:r=0,e.label=1;case 1:if(!(r<d))return[3,10];for(;r<d&&!c[r];)++r;if(d<=r)return[3,10];e.label=2;case 2:e.trys.push([2,7,8,9]),i=void 0,t=N(c[r]),n=t.next(),e.label=3;case 3:return n.done?[3,6]:[4,n.value];case 4:e.sent(),e.label=5;case 5:return n=t.next(),[3,3];case 6:return[3,9];case 7:return o=e.sent(),i={error:o},[3,9];case 8:try{n&&!n.done&&(l=t["return"])&&l.call(t)}finally{if(i)throw i.error}return[7];case 9:return++r,[3,1];case 10:return[2]}})}()},e.forEach(function(e){var r=e.key,e=e.value;return t.setElement(r,e)}),Object.freeze(this)}x.initSize=16,x.maxSize=1<<30,x.sigma=.75,x.treeifyThreshold=8,x.untreeifyThreshold=6,x.minTreeifySize=64,Object.freeze(x),e.Deque=v,e.HashMap=x,e.HashSet=E,e.LinkList=y,e.Map=g,e.PriorityQueue=f,e.Queue=h,e.Set=c,e.Stack=o,e.Vector=r,Object.defineProperty(e,"__esModule",{value:!0})});