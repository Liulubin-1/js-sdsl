!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).sdsl={})}(this,function(t){"use strict";var r=undefined&&undefined.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function e(t){var i=(t=void 0===t?[]:t).length,o=r([],t,!0);this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,o.length=0},this.front=function(){return this.empty()?undefined:o[0]},this.back=function(){return this.empty()?undefined:o[i-1]},this.push_back=function(t){o.push(t),++i},this.pop_back=function(){o.pop(),0<i&&--i},this.forEach=function(t){o.forEach(t)},this.getElementByPos=function(t){if(t<0||i<=t)throw new Error("pos muse more than 0 and less than vector's size");return o[t]},this.setElementByPos=function(t,e){if(t<0||i<=t)throw new Error("pos muse more than 0 and less than vector's size");o[t]=e},this.eraseElementByPos=function(t){if(t<0||i<=t)throw new Error("pos muse more than 0 and less than vector's size");for(var e=t;e<i-1;++e)o[e]=o[e+1];this.pop_back()},this.eraseElementByValue=function(e){var n=[];this.forEach(function(t){t!=e&&n.push(t)}),n.forEach(function(t,e){o[e]=t});for(var t=n.length;t<i;)this.pop_back()},this.insert=function(t,e,n){if(void 0===n&&(n=1),t<0||i<t)throw new Error("pos muse more than 0 and less than or equal to vector's size");o.splice.apply(o,r([t,0],new Array(n).fill(e),!1)),i+=n},this.reverse=function(){o.reverse()},this.unique=function(){var n,r=[];this.forEach(function(t,e){0!==e&&t===n||(r.push(t),n=t)}),r.forEach(function(t,e){o[e]=t});for(var t=r.length;t<i;)this.pop_back()},this.sort=function(t){o.sort(t)}}Object.freeze(e);var i=undefined&&undefined.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function n(t){var e=(t=void 0===t?[]:t).length,n=i([],t,!0);this.size=function(){return e},this.empty=function(){return 0===e},this.clear=function(){e=0,n.length=0},this.push=function(t){n.push(t),++e},this.pop=function(){n.pop(),0<e&&--e},this.top=function(){return n[e-1]}}Object.freeze(n);var h=function(t){this.val=null,this.pre=null,this.next=null,this.val=t};function o(t){var s=(t=void 0===t?[]:t).length,u=null,i=null;if(s){for(var e=u=new h(t[0]),n=1;n<s;++n)e.next=new h(t[n]),e=(e.next.pre=e).next;i=e}this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){u=i=null,s=0},this.front=function(){return null==u?void 0:u.val},this.back=function(){return null==i?void 0:i.val},this.push_back=function(t){++s;t=new h(t);i?((i.next=t).pre=i,i=t):u=i=t},this.pop_back=function(){0<s&&--s,i&&(u===i?u=i=null:(i=i.pre)&&(i.next=null))},this.forEach=function(t){if("function"!=typeof t)throw new Error("callback must be a function");for(var e=u,n=0;null!=e;)t(e.val,n++),e=e.next},this.getElementByPos=function(t){if(t<0||s<=t)throw new Error("pos must more then 0 and less then the list length");for(var e=u;t--&&e;)e=e.next;return null==e?void 0:e.val},this.setElementByPos=function(t,e){if(t<0||s<=t)throw new Error("pos must more then 0 and less then the list length");for(var n=u;t--&&n;)n=n.next;n&&(n.val=e)},this.eraseElementByPos=function(t){if(t<0||s<=t)throw new Error("insert pos must more then 0 and less then the list length");if(0===t)this.pop_front();else if(t===s-1)this.pop_back();else{for(var e=u;t--&&null!=e&&e.next;)e=e.next;if(!e||!e.pre||!e.next)throw new Error("unknown error");var n=e.pre,r=e.next;(r.pre=n).next=r,0<s&&--s}},this.eraseElementByValue=function(t){for(;u&&u.val===t;)this.pop_front();for(;i&&i.val===t;)this.pop_back();if(u)for(var e,n,r=u.next;r;)r.val===t&&(e=r.pre,(n=r.next)&&(n.pre=e),e&&(e.next=n),0<s&&--s),r=r.next},this.insert=function(t,e,n){if(void 0===n&&(n=1),t<0||s<t)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(n<0)throw new Error("insert size must more then 0");if(0===t)for(;n--;)this.push_front(e);else if(t===s)for(;n--;)this.push_back(e);else{for(var r=u,i=1;i<t&&(null!=r&&r.next);++i)r=null==r?void 0:r.next;if(!r)throw new Error("unknown error");var o=r.next;for(s+=n;n--;)r.next=new h(e),r=(r.next.pre=r).next;(r.next=o)&&(o.pre=r)}},this.reverse=function(){for(var t=u,e=i,n=0;t&&e&&2*n<s;){var r=t.val;t.val=e.val,e.val=r,t=t.next,e=e.pre,++n}},this.unique=function(){for(var t=u;t;){for(var e=t;e&&e.next&&e.val===e.next.val;)e=e.next,0<s&&--s;t.next=e.next,t=t.next}},this.sort=function(t){var e=[];this.forEach(function(t){e.push(t)}),e.sort(t);var n=u;e.forEach(function(t){n&&(n.val=t,n=n.next)})},this.push_front=function(t){++s;t=new h(t);u=u?(t.next=u).pre=t:i=t},this.pop_front=function(){0<s&&--s,u&&(u===i?u=i=null:(u=u.next)&&(u.pre=null))},this.merge=function(t){var n=this,r=u;t.forEach(function(t){for(;r&&r.val<=t;)r=r.next;var e;r?r===u?(n.push_front(t),r=u):(++s,(e=r.pre)&&(e.next=new h(t),((e.next.pre=e).next.next=r)&&(r.pre=e.next))):(n.push_back(t),r=i)})}}function s(t){var e=new o(t=void 0===t?[]:t);this.size=function(){return e.size()},this.empty=function(){return e.empty()},this.clear=function(){e.clear()},this.push=function(t){e.push_back(t)},this.pop=function(){e.pop_front()},this.front=function(){return e.front()}}function k(t){var f=[],c=0,a=0,l=0,p=0,v=0,d=(t=void 0===t?[]:t).length,e=d*k.sigma,v=Math.ceil(e/k.bucketSize);v=Math.max(v,3);for(var n=0;n<v;++n)f.push(new Array(k.bucketSize));var r=Math.ceil(d/k.bucketSize),l=c=Math.floor(v/2)-Math.floor(r/2);if(0!==d){for(var i=0,n=0;n<r;++n){for(var o=0;o<k.bucketSize;++o)if(f[c+n][o]=t[i++],d<=i){l=c+n,p=o;break}if(d<=i)break}this.size=function(){return d},this.empty=function(){return 0===d},this.clear=function(){c=l=a=p=v=d=0};var s=function(t){for(var e=[],n=Math.max(Math.ceil(t*k.sigma/k.bucketSize),2),r=0;r<n;++r)e.push(new Array(k.bucketSize));var i=Math.ceil(t/k.bucketSize),o=Math.floor(n/2)-Math.floor(i/2),s=o,u=0;if(this.size())for(r=0;r<i;++r){for(var h=0;h<k.bucketSize;++h)if(e[o+r][h]=this.front(),this.pop_front(),this.empty()){s=o+r,u=h;break}if(this.empty())break}f=e,c=o,a=0,l=s,p=u,v=n,d=t};this.front=function(){return f[c][a]},this.back=function(){return f[l][p]},this.push_back=function(t){this.empty()||(l===v-1&&p===k.bucketSize-1&&s.call(this,this.size()),p<k.bucketSize-1?++p:l<v-1&&(++l,p=0)),++d,f[l][p]=t},this.pop_back=function(){this.empty()||(1!==this.size()&&(0<p?--p:c<l&&(--l,p=k.bucketSize-1)),0<d&&--d)},this.forEach=function(t){if(!this.empty()){var e=0;if(c!==l){for(r=a;r<k.bucketSize;++r)t(f[c][r],e++);for(r=c+1;r<l;++r)for(var n=0;n<k.bucketSize;++n)t(f[r][n],e++);for(r=0;r<=p;++r)t(f[l][r],e++)}else for(var r=a;r<=p;++r)t(f[c][r],e++)}};var h=function(t){var e=c*k.bucketSize+a,t=e+t;if(t<e||l*k.bucketSize+p<t)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(t/k.bucketSize),curNodePointerIndex:t%k.bucketSize}};this.getElementByPos=function(t){var e=h(t),t=e.curNodeBucketIndex,e=e.curNodePointerIndex;return f[t][e]},this.setElementByPos=function(t,e){var n=h(t),t=n.curNodeBucketIndex,n=n.curNodePointerIndex;f[t][n]=e},this.eraseElementByPos=function(t){var e=this;if(0===t)this.pop_front();else if(t===this.size())this.pop_back();else{for(var n=[],r=t+1;r<d;++r)n.push(this.getElementByPos(r));this.cut(t),this.pop_back(),n.forEach(function(t){return e.push_back(t)})}},this.eraseElementByValue=function(e){var n=[];this.forEach(function(t){t!=e&&n.push(t)});for(var t=n.length,r=0;r<t;++r)this.setElementByPos(r,n[r]);this.cut(t-1)},this.insert=function(t,e,n){var r=this;if(void 0===n&&(n=1),0===t)for(;n--;)this.push_front(e);else if(t===this.size())for(;n--;)this.push_back(e);else{for(var i=h(t),o=i.curNodeBucketIndex,i=i.curNodePointerIndex,s=[],u=t;u<d;++u)s.push(this.getElementByPos(u));l=o,p=i,d=t+1,this.pop_back();for(u=0;u<n;++u)this.push_back(e);s.forEach(function(t){return r.push_back(t)})}},this.reverse=function(){for(var t=0,e=d-1;t<e;){var n=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(e)),this.setElementByPos(e,n),++t,--e}},this.unique=function(){if(!this.empty()){var n=[],r=this.front();this.forEach(function(t,e){0!==e&&t===r||(n.push(t),r=t)});for(var t=0;t<d;++t)this.setElementByPos(t,n[t]);this.cut(n.length-1)}},this.sort=function(t){var e=[];this.forEach(function(t){e.push(t)}),e.sort(t);for(var n=0;n<d;++n)this.setElementByPos(n,e[n])},this.push_front=function(t){this.empty()||(0===c&&0===a&&s.call(this,this.size()),0<a?--a:0<c&&(--c,a=k.bucketSize-1)),++d,f[c][a]=t},this.pop_front=function(){this.empty()||(1!==this.size()&&(a<k.bucketSize-1?++a:c<l&&(++c,a=0)),0<d&&--d)},this.shrinkToFit=function(){var e=[];this.forEach(function(t){e.push(t)});var t=e.length;f=[];for(var n=Math.ceil(t/k.bucketSize),r=0;r<n;++r)f.push(new Array(k.bucketSize));this.clear();for(var i=0,r=0;r<n;++r)for(var o=0;o<k.bucketSize;++o)if(f[r][o]=e[i++],t<=i){l=r,p=o;break}d=t},this.cut=function(t){var e=h(t),n=e.curNodeBucketIndex,e=e.curNodePointerIndex;l=n,p=e,d=t+1}}}Object.freeze(o),Object.freeze(s),k.sigma=3,k.bucketSize=5e3,Object.freeze(k);var c=undefined&&undefined.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function u(t,o){o=o||function(t,e){return e<t?-1:t<e?1:0};for(var s=(t=void 0===t?[]:t).length,u=c([],t,!0),r=function(t,e){if(t<0||s<=t)throw new Error("unknown error");if(e<0||s<=e)throw new Error("unknown error");var n=u[t];u[t]=u[e],u[e]=n},e=Math.floor((s-1)/2);0<=e;--e)for(var n=e,i=2*n+1;i<s;){var h=i+1,f=i;if(h<s&&0<o(u[i],u[h])&&(f=h),o(u[n],u[f])<=0)break;r(n,f),i=2*(n=f)+1}this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,u.length=0},this.push=function(t){if(u.push(t),1!==++s)for(var e=s-1;0<e;){var n=Math.floor((e-1)/2);if(o(u[n],t)<=0)break;!function(t){if(t<0||s<=t)throw new Error("unknown error");var e=2*t+1,n=2*t+2;e<s&&0<o(u[t],u[e])&&r(t,e),n<s&&0<o(u[t],u[n])&&r(t,n)}(n),e=n}},this.pop=function(){if(!this.empty())if(1!==this.size()){var t=u[s-1];--s;for(var e=0;e<this.size();){var n=2*e+1,r=2*e+2;if(n>=this.size())break;var i=n;if(r<this.size()&&0<o(u[n],u[r])&&(i=r),0<=o(u[i],t))break;u[e]=u[i],e=i}u[e]=t}else--s},this.top=function(){return u[0]}}Object.freeze(u),t.Deque=k,t.LinkList=o,t.PriorityQueue=u,t.Queue=s,t.Stack=n,t.Vector=e,Object.defineProperty(t,"__esModule",{value:!0})});