!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).sdsl={})}(this,function(t){"use strict";var r=undefined&&undefined.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function e(t){var i=(t=void 0===t?[]:t).length,o=r([],t,!0);this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,o.length=0},this.front=function(){return this.empty()?undefined:o[0]},this.back=function(){return this.empty()?undefined:o[i-1]},this.push_back=function(t){o.push(t),++i},this.pop_back=function(){o.pop(),0<i&&--i},this.forEach=function(t){o.forEach(t)},this.getElementByPos=function(t){if(t<0||i<=t)throw new Error("pos muse more than 0 and less than vector's size");return o[t]},this.setElementByPos=function(t,e){if(t<0||i<=t)throw new Error("pos muse more than 0 and less than vector's size");o[t]=e},this.eraseElementByPos=function(t){if(t<0||i<=t)throw new Error("pos muse more than 0 and less than vector's size");for(var e=t;e<i-1;++e)o[e]=o[e+1];this.pop_back()},this.eraseElementByValue=function(e){var n=[];this.forEach(function(t){t!=e&&n.push(t)}),n.forEach(function(t,e){o[e]=t});for(var t=n.length;t<i;)this.pop_back()},this.insert=function(t,e,n){if(void 0===n&&(n=1),t<0||i<t)throw new Error("pos muse more than 0 and less than or equal to vector's size");o.splice.apply(o,r([t,0],new Array(n).fill(e),!1)),i+=n},this.reverse=function(){o.reverse()},this.unique=function(){var n,r=[];this.forEach(function(t,e){0!==e&&t===n||(r.push(t),n=t)}),r.forEach(function(t,e){o[e]=t});for(var t=r.length;t<i;)this.pop_back()},this.sort=function(t){o.sort(t)},Object.freeze(this)}Object.freeze(e);var i=undefined&&undefined.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function n(t){var e=(t=void 0===t?[]:t).length,n=i([],t,!0);this.size=function(){return e},this.empty=function(){return 0===e},this.clear=function(){e=0,n.length=0},this.push=function(t){n.push(t),++e},this.pop=function(){n.pop(),0<e&&--e},this.top=function(){return n[e-1]},Object.freeze(this)}Object.freeze(n);var f=function(t){this.val=null,this.pre=null,this.next=null,this.val=t};function o(t){var s=(t=void 0===t?[]:t).length,h=null,i=null;if(0<s){for(var e=h=new f(t[0]),n=1;n<s;++n)e.next=new f(t[n]),e=(e.next.pre=e).next;i=e}this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){h=i=null,s=0},this.front=function(){return null==h?void 0:h.val},this.back=function(){return null==i?void 0:i.val},this.push_back=function(t){++s;t=new f(t);i?((i.next=t).pre=i,i=t):h=i=t},this.pop_back=function(){0<s&&--s,i&&(h===i?h=i=null:(i=i.pre)&&(i.next=null))},this.forEach=function(t){if("function"!=typeof t)throw new Error("callback must be a function");for(var e=h,n=0;null!=e;)t(e.val,n++),e=e.next},this.getElementByPos=function(t){if(t<0||s<=t)throw new Error("pos must more then 0 and less then the list length");for(var e=h;t--&&e;)e=e.next;return null==e?void 0:e.val},this.setElementByPos=function(t,e){if(t<0||s<=t)throw new Error("pos must more then 0 and less then the list length");for(var n=h;t--&&n;)n=n.next;n&&(n.val=e)},this.eraseElementByPos=function(t){if(t<0||s<=t)throw new Error("insert pos must more then 0 and less then the list length");if(0===t)this.pop_front();else if(t===s-1)this.pop_back();else{for(var e=h;t--&&null!=e&&e.next;)e=e.next;if(!e||!e.pre||!e.next)throw new Error("unknown error");var n=e.pre,r=e.next;(r.pre=n).next=r,0<s&&--s}},this.eraseElementByValue=function(t){for(;h&&h.val===t;)this.pop_front();for(;i&&i.val===t;)this.pop_back();if(h)for(var e,n,r=h.next;r;)r.val===t&&(e=r.pre,(n=r.next)&&(n.pre=e),e&&(e.next=n),0<s&&--s),r=r.next},this.insert=function(t,e,n){if(void 0===n&&(n=1),t<0||s<t)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(n<0)throw new Error("insert size must more then 0");if(0===t)for(;n--;)this.push_front(e);else if(t===s)for(;n--;)this.push_back(e);else{for(var r=h,i=1;i<t&&(null!=r&&r.next);++i)r=null==r?void 0:r.next;if(!r)throw new Error("unknown error");var o=r.next;for(s+=n;n--;)r.next=new f(e),r=(r.next.pre=r).next;(r.next=o)&&(o.pre=r)}},this.reverse=function(){for(var t=h,e=i,n=0;t&&e&&2*n<s;){var r=t.val;t.val=e.val,e.val=r,t=t.next,e=e.pre,++n}},this.unique=function(){for(var t=h;t;){for(var e=t;e&&e.next&&e.val===e.next.val;)e=e.next,0<s&&--s;t.next=e.next,t=t.next}},this.sort=function(t){var e=[];this.forEach(function(t){e.push(t)}),e.sort(t);var n=h;e.forEach(function(t){n&&(n.val=t,n=n.next)})},this.push_front=function(t){++s;t=new f(t);h=h?(t.next=h).pre=t:i=t},this.pop_front=function(){0<s&&--s,h&&(h===i?h=i=null:(h=h.next)&&(h.pre=null))},this.merge=function(t){var n=this,r=h;t.forEach(function(t){for(;r&&r.val<=t;)r=r.next;var e;r?r===h?(n.push_front(t),r=h):(++s,(e=r.pre)&&(e.next=new f(t),((e.next.pre=e).next.next=r)&&(r.pre=e.next))):(n.push_back(t),r=i)})},Object.freeze(this)}function s(t){var e=new o(t=void 0===t?[]:t);this.size=function(){return e.size()},this.empty=function(){return e.empty()},this.clear=function(){e.clear()},this.push=function(t){e.push_back(t)},this.pop=function(){e.pop_front()},this.front=function(){return e.front()},Object.freeze(this)}function d(t){var u=[],c=0,a=0,l=0,p=0,v=0,b=(t=void 0===t?[]:t).length,e=b*d.sigma,v=Math.ceil(e/d.bucketSize);v=Math.max(v,3);for(var n=0;n<v;++n)u.push(new Array(d.bucketSize));var r=Math.ceil(b/d.bucketSize),l=c=Math.floor(v/2)-Math.floor(r/2);if(0<b)for(var i=0,n=0;n<r;++n){for(var o=0;o<d.bucketSize;++o)if(u[c+n][o]=t[i++],b<=i){l=c+n,p=o;break}if(b<=i)break}this.size=function(){return b},this.empty=function(){return 0===b},this.clear=function(){c=l=a=p=v=b=0};var s=function(t){for(var e=[],n=Math.max(Math.ceil(t*d.sigma/d.bucketSize),2),r=0;r<n;++r)e.push(new Array(d.bucketSize));var i=Math.ceil(t/d.bucketSize),o=Math.floor(n/2)-Math.floor(i/2),s=o,h=0;if(this.size())for(r=0;r<i;++r){for(var f=0;f<d.bucketSize;++f)if(e[o+r][f]=this.front(),this.pop_front(),this.empty()){s=o+r,h=f;break}if(this.empty())break}u=e,c=o,a=0,l=s,p=h,v=n,b=t};this.front=function(){return u[c][a]},this.back=function(){return u[l][p]},this.push_back=function(t){this.empty()||(l===v-1&&p===d.bucketSize-1&&s.call(this,this.size()),p<d.bucketSize-1?++p:l<v-1&&(++l,p=0)),++b,u[l][p]=t},this.pop_back=function(){this.empty()||(1!==this.size()&&(0<p?--p:c<l&&(--l,p=d.bucketSize-1)),0<b&&--b)},this.forEach=function(t){if(!this.empty()){var e=0;if(c!==l){for(r=a;r<d.bucketSize;++r)t(u[c][r],e++);for(r=c+1;r<l;++r)for(var n=0;n<d.bucketSize;++n)t(u[r][n],e++);for(r=0;r<=p;++r)t(u[l][r],e++)}else for(var r=a;r<=p;++r)t(u[c][r],e++)}};var f=function(t){var e=c*d.bucketSize+a,t=e+t;if(t<e||l*d.bucketSize+p<t)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(t/d.bucketSize),curNodePointerIndex:t%d.bucketSize}};this.getElementByPos=function(t){var e=f(t),t=e.curNodeBucketIndex,e=e.curNodePointerIndex;return u[t][e]},this.setElementByPos=function(t,e){var n=f(t),t=n.curNodeBucketIndex,n=n.curNodePointerIndex;u[t][n]=e},this.eraseElementByPos=function(t){var e=this;if(0===t)this.pop_front();else if(t===this.size())this.pop_back();else{for(var n=[],r=t+1;r<b;++r)n.push(this.getElementByPos(r));this.cut(t),this.pop_back(),n.forEach(function(t){return e.push_back(t)})}},this.eraseElementByValue=function(e){var n=[];this.forEach(function(t){t!=e&&n.push(t)});for(var t=n.length,r=0;r<t;++r)this.setElementByPos(r,n[r]);this.cut(t-1)},this.insert=function(t,e,n){var r=this;if(void 0===n&&(n=1),0===t)for(;n--;)this.push_front(e);else if(t===this.size())for(;n--;)this.push_back(e);else{for(var i=f(t),o=i.curNodeBucketIndex,i=i.curNodePointerIndex,s=[],h=t;h<b;++h)s.push(this.getElementByPos(h));l=o,p=i,b=t+1,this.pop_back();for(h=0;h<n;++h)this.push_back(e);s.forEach(function(t){return r.push_back(t)})}},this.reverse=function(){for(var t=0,e=b-1;t<e;){var n=this.getElementByPos(t);this.setElementByPos(t,this.getElementByPos(e)),this.setElementByPos(e,n),++t,--e}},this.unique=function(){if(!this.empty()){var n=[],r=this.front();this.forEach(function(t,e){0!==e&&t===r||(n.push(t),r=t)});for(var t=0;t<b;++t)this.setElementByPos(t,n[t]);this.cut(n.length-1)}},this.sort=function(t){var e=[];this.forEach(function(t){e.push(t)}),e.sort(t);for(var n=0;n<b;++n)this.setElementByPos(n,e[n])},this.push_front=function(t){this.empty()||(0===c&&0===a&&s.call(this,this.size()),0<a?--a:0<c&&(--c,a=d.bucketSize-1)),++b,u[c][a]=t},this.pop_front=function(){this.empty()||(1!==this.size()&&(a<d.bucketSize-1?++a:c<l&&(++c,a=0)),0<b&&--b)},this.shrinkToFit=function(){var e=[];this.forEach(function(t){e.push(t)});var t=e.length;u=[];for(var n=Math.ceil(t/d.bucketSize),r=0;r<n;++r)u.push(new Array(d.bucketSize));this.clear();for(var i=0,r=0;r<n;++r)for(var o=0;o<d.bucketSize;++o)if(u[r][o]=e[i++],t<=i){l=r,p=o;break}b=t},this.cut=function(t){var e=f(t),n=e.curNodeBucketIndex,e=e.curNodePointerIndex;l=n,p=e,b=t+1},Object.freeze(this)}Object.freeze(o),Object.freeze(s),d.sigma=3,d.bucketSize=5e3,Object.freeze(d);var c=undefined&&undefined.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||((r=r||Array.prototype.slice.call(e,0,i))[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};function h(t,o){o=o||function(t,e){return e<t?-1:t<e?1:0};for(var s=(t=void 0===t?[]:t).length,h=c([],t,!0),r=function(t,e){if(t<0||s<=t)throw new Error("unknown error");if(e<0||s<=e)throw new Error("unknown error");var n=h[t];h[t]=h[e],h[e]=n},e=Math.floor((s-1)/2);0<=e;--e)for(var n=e,i=2*n+1;i<s;){var f=i+1,u=i;if(f<s&&0<o(h[i],h[f])&&(u=f),o(h[n],h[u])<=0)break;r(n,u),i=2*(n=u)+1}this.size=function(){return s},this.empty=function(){return 0===s},this.clear=function(){s=0,h.length=0},this.push=function(t){if(h.push(t),1!==++s)for(var e=s-1;0<e;){var n=Math.floor((e-1)/2);if(o(h[n],t)<=0)break;!function(t){if(t<0||s<=t)throw new Error("unknown error");var e=2*t+1,n=2*t+2;e<s&&0<o(h[t],h[e])&&r(t,e),n<s&&0<o(h[t],h[n])&&r(t,n)}(n),e=n}},this.pop=function(){if(!this.empty())if(1!==this.size()){var t=h[s-1];--s;for(var e=0;e<this.size();){var n=2*e+1,r=2*e+2;if(n>=this.size())break;var i=n;if(r<this.size()&&0<o(h[n],h[r])&&(i=r),0<=o(h[i],t))break;h[e]=h[i],e=i}h[e]=t}else--s},this.top=function(){return h[0]},Object.freeze(this)}Object.freeze(h),t.Deque=d,t.LinkList=o,t.PriorityQueue=h,t.Queue=s,t.Stack=n,t.Vector=e,Object.defineProperty(t,"__esModule",{value:!0})});