!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self).sdsl={})}(this,function(e){"use strict";var o=undefined&&undefined.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var o,i=0,n=r.length;i<n;i++)!o&&i in r||((o=o||Array.prototype.slice.call(r,0,i))[i]=r[i]);return e.concat(o||Array.prototype.slice.call(r))};function r(e){var i=(e=void 0===e?[]:e).length,n=o([],e,!0);this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,n.length=0},this.front=function(){return this.empty()?undefined:n[0]},this.back=function(){return this.empty()?undefined:n[i-1]},this.forEach=function(e){n.forEach(e)},this.getElementByPos=function(e){if(e<0||i<=e)throw new Error("pos muse more than 0 and less than vector's size");return n[e]},this.eraseElementByPos=function(e){if(e<0||i<=e)throw new Error("pos muse more than 0 and less than vector's size");for(var r=e;r<i-1;++r)n[r]=n[r+1];this.pop_back()},this.eraseElementByValue=function(r){var t=[];this.forEach(function(e){e!=r&&t.push(e)}),t.forEach(function(e,r){n[r]=e});for(var e=t.length;e<i;)this.pop_back()},this.push_back=function(e){n.push(e),++i},this.pop_back=function(){n.pop(),0<i&&--i},this.setElementByPos=function(e,r){if(e<0||i<=e)throw new Error("pos muse more than 0 and less than vector's size");n[e]=r},this.insert=function(e,r,t){if(void 0===t&&(t=1),e<0||i<e)throw new Error("pos muse more than 0 and less than or equal to vector's size");n.splice.apply(n,o([e,0],new Array(t).fill(r),!1)),i+=t},this.reverse=function(){n.reverse()},this.unique=function(){var t,o=[];this.forEach(function(e,r){0!==r&&e===t||(o.push(e),t=e)}),o.forEach(function(e,r){n[r]=e});for(var e=o.length;e<i;)this.pop_back()},this.sort=function(e){n.sort(e)},Object.freeze(this)}Object.freeze(r);var i=undefined&&undefined.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var o,i=0,n=r.length;i<n;i++)!o&&i in r||((o=o||Array.prototype.slice.call(r,0,i))[i]=r[i]);return e.concat(o||Array.prototype.slice.call(r))};function t(e){var r=(e=void 0===e?[]:e).length,t=i([],e,!0);this.size=function(){return r},this.empty=function(){return 0===r},this.clear=function(){r=0,t.length=0},this.push=function(e){t.push(e),++r},this.pop=function(){t.pop(),0<r&&--r},this.top=function(){return t[r-1]},Object.freeze(this)}Object.freeze(t);var s=function(e){this.val=null,this.pre=null,this.next=null,this.val=e};function n(e){var l=(e=void 0===e?[]:e).length,h=null,i=null;if(0<l){for(var r=h=new s(e[0]),t=1;t<l;++t)r.next=new s(e[t]),r=(r.next.pre=r).next;i=r}this.size=function(){return l},this.empty=function(){return 0===l},this.clear=function(){h=i=null,l=0},this.front=function(){return null==h?void 0:h.val},this.back=function(){return null==i?void 0:i.val},this.forEach=function(e){if("function"!=typeof e)throw new Error("callback must be a function");for(var r=h,t=0;null!=r;)e(r.val,t++),r=r.next},this.getElementByPos=function(e){if(e<0||l<=e)throw new Error("pos must more then 0 and less then the list length");for(var r=h;e--&&r;)r=r.next;return null==r?void 0:r.val},this.eraseElementByPos=function(e){if(e<0||l<=e)throw new Error("insert pos must more then 0 and less then the list length");if(0===e)this.pop_front();else if(e===l-1)this.pop_back();else{for(var r=h;e--&&null!=r&&r.next;)r=r.next;if(!r||!r.pre||!r.next)throw new Error("unknown error");var t=r.pre,o=r.next;(o.pre=t).next=o,0<l&&--l}},this.eraseElementByValue=function(e){for(;h&&h.val===e;)this.pop_front();for(;i&&i.val===e;)this.pop_back();if(h)for(var r,t,o=h.next;o;)o.val===e&&(r=o.pre,(t=o.next)&&(t.pre=r),r&&(r.next=t),0<l&&--l),o=o.next},this.push_back=function(e){++l;e=new s(e);i?((i.next=e).pre=i,i=e):h=i=e},this.pop_back=function(){0<l&&--l,i&&(h===i?h=i=null:(i=i.pre)&&(i.next=null))},this.setElementByPos=function(e,r){if(e<0||l<=e)throw new Error("pos must more then 0 and less then the list length");for(var t=h;e--&&t;)t=t.next;t&&(t.val=r)},this.insert=function(e,r,t){if(void 0===t&&(t=1),e<0||l<e)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(t<0)throw new Error("insert size must more then 0");if(0===e)for(;t--;)this.push_front(r);else if(e===l)for(;t--;)this.push_back(r);else{for(var o=h,i=1;i<e&&(null!=o&&o.next);++i)o=null==o?void 0:o.next;if(!o)throw new Error("unknown error");var n=o.next;for(l+=t;t--;)o.next=new s(r),o=(o.next.pre=o).next;(o.next=n)&&(n.pre=o)}},this.reverse=function(){for(var e=h,r=i,t=0;e&&r&&2*t<l;){var o=e.val;e.val=r.val,r.val=o,e=e.next,r=r.pre,++t}},this.unique=function(){for(var e=h;e;){for(var r=e;r&&r.next&&r.val===r.next.val;)r=r.next,0<l&&--l;e.next=r.next,e=e.next}},this.sort=function(e){var r=[];this.forEach(function(e){r.push(e)}),r.sort(e);var t=h;r.forEach(function(e){t&&(t.val=e,t=t.next)})},this.push_front=function(e){++l;e=new s(e);h=h?(e.next=h).pre=e:i=e},this.pop_front=function(){0<l&&--l,h&&(h===i?h=i=null:(h=h.next)&&(h.pre=null))},this.merge=function(e){var t=this,o=h;e.forEach(function(e){for(;o&&o.val<=e;)o=o.next;var r;o?o===h?(t.push_front(e),o=h):(++l,(r=o.pre)&&(r.next=new s(e),((r.next.pre=r).next.next=o)&&(o.pre=r.next))):(t.push_back(e),o=i)})},Object.freeze(this)}function l(e){var r=new n(e=void 0===e?[]:e);this.size=function(){return r.size()},this.empty=function(){return r.empty()},this.clear=function(){r.clear()},this.push=function(e){r.push_back(e)},this.pop=function(){r.pop_front()},this.front=function(){return r.front()},Object.freeze(this)}function C(e){var u=[],f=0,a=0,c=0,d=0,p=0,v=(e=void 0===e?[]:e).length,r=v*C.sigma,p=Math.ceil(r/C.bucketSize);p=Math.max(p,3);for(var t=0;t<p;++t)u.push(new Array(C.bucketSize));var o=Math.ceil(v/C.bucketSize),c=f=Math.floor(p/2)-Math.floor(o/2);if(0<v)for(var i=0,t=0;t<o;++t){for(var n=0;n<C.bucketSize;++n)if(u[f+t][n]=e[i++],v<=i){c=f+t,d=n;break}if(v<=i)break}this.size=function(){return v},this.empty=function(){return 0===v},this.clear=function(){f=c=a=d=p=v=0},this.front=function(){return u[f][a]},this.back=function(){return u[c][d]},this.forEach=function(e){if(!this.empty()){var r=0;if(f!==c){for(o=a;o<C.bucketSize;++o)e(u[f][o],r++);for(o=f+1;o<c;++o)for(var t=0;t<C.bucketSize;++t)e(u[o][t],r++);for(o=0;o<=d;++o)e(u[c][o],r++)}else for(var o=a;o<=d;++o)e(u[f][o],r++)}};var s=function(e){var r=f*C.bucketSize+a,e=r+e;if(e<r||c*C.bucketSize+d<e)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(e/C.bucketSize),curNodePointerIndex:e%C.bucketSize}};this.getElementByPos=function(e){var r=s(e),e=r.curNodeBucketIndex,r=r.curNodePointerIndex;return u[e][r]},this.eraseElementByPos=function(e){var r=this;if(0===e)this.pop_front();else if(e===this.size())this.pop_back();else{for(var t=[],o=e+1;o<v;++o)t.push(this.getElementByPos(o));this.cut(e),this.pop_back(),t.forEach(function(e){return r.push_back(e)})}},this.eraseElementByValue=function(r){var t=[];this.forEach(function(e){e!=r&&t.push(e)});for(var e=t.length,o=0;o<e;++o)this.setElementByPos(o,t[o]);this.cut(e-1)};var l=function(e){for(var r=[],t=Math.max(Math.ceil(e*C.sigma/C.bucketSize),2),o=0;o<t;++o)r.push(new Array(C.bucketSize));var i=Math.ceil(e/C.bucketSize),n=Math.floor(t/2)-Math.floor(i/2),l=n,h=0;if(this.size())for(o=0;o<i;++o){for(var s=0;s<C.bucketSize;++s)if(r[n+o][s]=this.front(),this.pop_front(),this.empty()){l=n+o,h=s;break}if(this.empty())break}u=r,f=n,a=0,c=l,d=h,p=t,v=e};this.push_back=function(e){this.empty()||(c===p-1&&d===C.bucketSize-1&&l.call(this,this.size()),d<C.bucketSize-1?++d:c<p-1&&(++c,d=0)),++v,u[c][d]=e},this.pop_back=function(){this.empty()||(1!==this.size()&&(0<d?--d:f<c&&(--c,d=C.bucketSize-1)),0<v&&--v)},this.setElementByPos=function(e,r){var t=s(e),e=t.curNodeBucketIndex,t=t.curNodePointerIndex;u[e][t]=r},this.insert=function(e,r,t){var o=this;if(void 0===t&&(t=1),0===e)for(;t--;)this.push_front(r);else if(e===this.size())for(;t--;)this.push_back(r);else{for(var i=s(e),n=i.curNodeBucketIndex,i=i.curNodePointerIndex,l=[],h=e;h<v;++h)l.push(this.getElementByPos(h));c=n,d=i,v=e+1,this.pop_back();for(h=0;h<t;++h)this.push_back(r);l.forEach(function(e){return o.push_back(e)})}},this.reverse=function(){for(var e=0,r=v-1;e<r;){var t=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(r)),this.setElementByPos(r,t),++e,--r}},this.unique=function(){if(!this.empty()){var t=[],o=this.front();this.forEach(function(e,r){0!==r&&e===o||(t.push(e),o=e)});for(var e=0;e<v;++e)this.setElementByPos(e,t[e]);this.cut(t.length-1)}},this.sort=function(e){var r=[];this.forEach(function(e){r.push(e)}),r.sort(e);for(var t=0;t<v;++t)this.setElementByPos(t,r[t])},this.push_front=function(e){this.empty()||(0===f&&0===a&&l.call(this,this.size()),0<a?--a:0<f&&(--f,a=C.bucketSize-1)),++v,u[f][a]=e},this.pop_front=function(){this.empty()||(1!==this.size()&&(a<C.bucketSize-1?++a:f<c&&(++f,a=0)),0<v&&--v)},this.shrinkToFit=function(){var r=[];this.forEach(function(e){r.push(e)});var e=r.length;u=[];for(var t=Math.ceil(e/C.bucketSize),o=0;o<t;++o)u.push(new Array(C.bucketSize));this.clear();for(var i=0,o=0;o<t;++o)for(var n=0;n<C.bucketSize;++n)if(u[o][n]=r[i++],e<=i){c=o,d=n;break}v=e},this.cut=function(e){var r=s(e),t=r.curNodeBucketIndex,r=r.curNodePointerIndex;c=t,d=r,v=e+1},Object.freeze(this)}Object.freeze(n),Object.freeze(l),C.sigma=3,C.bucketSize=5e3,Object.freeze(C);var f=undefined&&undefined.__spreadArray||function(e,r,t){if(t||2===arguments.length)for(var o,i=0,n=r.length;i<n;i++)!o&&i in r||((o=o||Array.prototype.slice.call(r,0,i))[i]=r[i]);return e.concat(o||Array.prototype.slice.call(r))};function h(e,n){n=n||function(e,r){return r<e?-1:e<r?1:0};for(var l=(e=void 0===e?[]:e).length,h=f([],e,!0),o=function(e,r){if(e<0||l<=e)throw new Error("unknown error");if(r<0||l<=r)throw new Error("unknown error");var t=h[e];h[e]=h[r],h[r]=t},r=Math.floor((l-1)/2);0<=r;--r)for(var t=r,i=2*t+1;i<l;){var s=i+1,u=i;if(s<l&&0<n(h[i],h[s])&&(u=s),n(h[t],h[u])<=0)break;o(t,u),i=2*(t=u)+1}this.size=function(){return l},this.empty=function(){return 0===l},this.clear=function(){l=0,h.length=0},this.push=function(e){if(h.push(e),1!==++l)for(var r=l-1;0<r;){var t=Math.floor((r-1)/2);if(n(h[t],e)<=0)break;!function(e){if(e<0||l<=e)throw new Error("unknown error");var r=2*e+1,t=2*e+2;r<l&&0<n(h[e],h[r])&&o(e,r),t<l&&0<n(h[e],h[t])&&o(e,t)}(t),r=t}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=h[l-1];--l;for(var r=0;r<this.size();){var t=2*r+1,o=2*r+2;if(t>=this.size())break;var i=t;if(o<this.size()&&0<n(h[t],h[o])&&(i=o),0<=n(h[i],e))break;h[r]=h[i],r=i}h[r]=e}else--l},this.top=function(){return h[0]},Object.freeze(this)}Object.freeze(h);var p=(u.prototype.rotateLeft=function(){var e=this.parent,r=this.brother,t=this.leftChild,o=this.rightChild;if(!o)throw new Error("unknown error");var i=o.leftChild,n=o.rightChild;return e&&(e.leftChild===this?e.leftChild=o:e.rightChild===this&&(e.rightChild=o)),o.parent=e,o.brother=r,o.leftChild=this,o.rightChild=n,r&&(r.brother=o),this.parent=o,this.brother=n,this.leftChild=t,this.rightChild=i,n&&(n.parent=o,n.brother=this),t&&(t.parent=this,t.brother=i),i&&(i.parent=this,i.brother=t),o},u.prototype.rotateRight=function(){var e=this.parent,r=this.brother,t=this.leftChild;if(!t)throw new Error("unknown error");var o=this.rightChild,i=t.leftChild,n=t.rightChild;return e&&(e.leftChild===this?e.leftChild=t:e.rightChild===this&&(e.rightChild=t)),t.parent=e,t.brother=r,t.leftChild=i,t.rightChild=this,r&&(r.brother=t),i&&(i.parent=t,i.brother=this),this.parent=t,this.brother=i,this.leftChild=n,this.rightChild=o,n&&(n.parent=this,n.brother=o),o&&(o.parent=this,o.brother=n),t},u.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=null:this===this.parent.rightChild&&(this.parent.rightChild=null)),this.brother&&(this.brother.brother=null),this.value=null,this.parent=null,this.brother=null},u.TreeNodeColorType={red:"0",black:"1"},u);function u(e){this.value=null,this.parent=null,this.brother=null,this.leftChild=null,this.rightChild=null,e!==undefined&&(this.value=e),this.color=u.TreeNodeColorType.red}Object.freeze(p),e.Deque=C,e.LinkList=n,e.PriorityQueue=h,e.Queue=l,e.Set=function(e,o){var r=this;void 0===e&&(e=[]),o=o||function(e,r){return e<r?-1:r<e?1:0};var i=0,n=new p;n.color=p.TreeNodeColorType.black,this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,(n=new p).color=p.TreeNodeColorType.black};var l=function(e){if(!e||null===e.value)throw new Error("unknown error");return e.leftChild?l(e.leftChild):e},h=function(e){if(!e||null===e.value)throw new Error("unknown error");return e.rightChild?h(e.rightChild):e};this.front=function(){if(this.empty())return undefined;var e=l(n);return null===e.value?undefined:e.value},this.back=function(){if(this.empty())return undefined;var e=h(n);return null===e.value?undefined:e.value};var s=function(e,r){return!(!e||null===e.value)&&(!!s(e.leftChild,r)||(!!r(e)||s(e.rightChild,r)))};this.forEach=function(r){var t=0;s(n,function(e){if(null===e.value)throw new Error("unknown error");return r(e.value,t++),!1})},this.getElementByPos=function(r){if(r<0||r>=this.size())throw new Error("pos must more than 0 and less than set's size");var t=0,o=null;if(s(n,function(e){return r===t?(o=e.value,!0):(++t,!1)}),null===o)throw new Error("unknown error");return o};var u=function(e){var r=e.parent;if(!r){if(e===n)return;throw new Error("unknown error")}if(e.color!==p.TreeNodeColorType.red){var t,o=e.brother;if(!o)throw new Error("unknown error");e===r.leftChild?o.color===p.TreeNodeColorType.red?(o.color=p.TreeNodeColorType.black,r.color=p.TreeNodeColorType.red,t=r.rotateLeft(),n===r&&(n=t),u(e)):o.color===p.TreeNodeColorType.black&&(o.rightChild&&o.rightChild.color===p.TreeNodeColorType.red?(o.color=r.color,r.color=p.TreeNodeColorType.black,o.rightChild&&(o.rightChild.color=p.TreeNodeColorType.black),t=r.rotateLeft(),n===r&&(n=t),e.color=p.TreeNodeColorType.black):o.rightChild&&o.rightChild.color!==p.TreeNodeColorType.black||!o.leftChild||o.leftChild.color!==p.TreeNodeColorType.red?o.leftChild&&o.leftChild.color!==p.TreeNodeColorType.black||o.rightChild&&o.rightChild.color!==p.TreeNodeColorType.black||(o.color=p.TreeNodeColorType.red,u(r)):(o.color=p.TreeNodeColorType.red,o.leftChild&&(o.leftChild.color=p.TreeNodeColorType.black),t=o.rotateRight(),n===o&&(n=t),u(e))):e===r.rightChild&&(o.color===p.TreeNodeColorType.red?(o.color=p.TreeNodeColorType.black,r.color=p.TreeNodeColorType.red,t=r.rotateRight(),n===r&&(n=t),u(e)):o.color===p.TreeNodeColorType.black&&(o.leftChild&&o.leftChild.color===p.TreeNodeColorType.red?(o.color=r.color,r.color=p.TreeNodeColorType.black,o.leftChild&&(o.leftChild.color=p.TreeNodeColorType.black),t=r.rotateRight(),n===r&&(n=t),e.color=p.TreeNodeColorType.black):o.leftChild&&o.leftChild.color!==p.TreeNodeColorType.black||!o.rightChild||o.rightChild.color!==p.TreeNodeColorType.red?o.leftChild&&o.leftChild.color!==p.TreeNodeColorType.black||o.rightChild&&o.rightChild.color!==p.TreeNodeColorType.black||(o.color=p.TreeNodeColorType.red,u(r)):(o.color=p.TreeNodeColorType.red,o.rightChild&&(o.rightChild.color=p.TreeNodeColorType.black),t=o.rotateLeft(),n===o&&(n=t),u(e))))}else e.color=p.TreeNodeColorType.black},f=function(e){for(var r,t=e;t.leftChild||t.rightChild;)t.rightChild&&(t=l(t.rightChild),r=e.value,e.value=t.value,t.value=r,e=t),t.leftChild&&(t=h(t.leftChild),r=e.value,e.value=t.value,t.value=r,e=t);u(t),t&&t.remove(),--i,n.color=p.TreeNodeColorType.black};this.eraseElementByPos=function(r){if(r<0||i<=r)throw new Error("pos must more than 0 and less than set's size");var t=0;s(n,function(e){return r===t?(f(e),!0):(++t,!1)})},this.eraseElementByValue=function(e){var r;this.empty()||null!==(r=d(n,e))&&null!==r.value&&0===o(r.value,e)&&f(r)};var a=function(e,r){if(!e||null===e.value)throw new Error("unknown error");var t=o(r,e.value);return t<0?e.leftChild?a(e.leftChild,r):(e.leftChild=new p,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<t?e.rightChild?a(e.rightChild,r):(e.rightChild=new p,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},c=function(e){var r=e.parent;if(!r){if(e===n)return;throw new Error("unknown error")}if(r.color!==p.TreeNodeColorType.black&&r.color===p.TreeNodeColorType.red){var t,o=r.brother,i=r.parent;if(!i)throw new Error("unknown error");o&&o.color===p.TreeNodeColorType.red?(o.color=r.color=p.TreeNodeColorType.black,i.color=p.TreeNodeColorType.red,c(i)):o&&o.color!==p.TreeNodeColorType.black||(r===i.leftChild?e===r.leftChild?(r.color=p.TreeNodeColorType.black,i.color=p.TreeNodeColorType.red,t=i.rotateRight(),i===n&&(n=t)):e===r.rightChild&&(t=r.rotateLeft(),i===n&&(n=t),c(r)):r===i.rightChild&&(e===r.leftChild?(t=r.rotateRight(),i===n&&(n=t),c(r)):e===r.rightChild&&(r.color=p.TreeNodeColorType.black,i.color=p.TreeNodeColorType.red,t=i.rotateLeft(),i===n&&(n=t))))}};this.insert=function(e){if(null===e||e===undefined)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty())return++i,n.value=e,void(n.color=p.TreeNodeColorType.black);var r=a(n,e);r.value&&0===o(r.value,e)||(++i,r.value=e,c(r),n.color=p.TreeNodeColorType.black)};var d=function(e,r){if(!e||null===e.value)return null;var t=o(r,e.value);return t<0?d(e.leftChild,r):0<t?d(e.rightChild,r):e};this.find=function(e){var r=d(n,e);return null!==r&&null!==r.value&&0===o(r.value,e)},this.union=function(e){var r=this;e.forEach(function(e){return r.insert(e)})},this.getHeight=function(){if(this.empty())return 0;var r=function(e){return e?Math.max(r(e.leftChild),r(e.rightChild))+1:1};return r(n)},e.forEach(function(e){return r.insert(e)}),Object.freeze(this)},e.Stack=t,e.Vector=r,Object.defineProperty(e,"__esModule",{value:!0})});