!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).sdsl={})}(this,function(e){"use strict";var o=undefined&&undefined.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};function t(e){var i=(e=void 0===e?[]:e).length,n=o([],e,!0);this.size=function(){return i},this.empty=function(){return 0===i},this.clear=function(){i=0,n.length=0},this.front=function(){return this.empty()?undefined:n[0]},this.back=function(){return this.empty()?undefined:n[i-1]},this.push_back=function(e){n.push(e),++i},this.pop_back=function(){n.pop(),0<i&&--i},this.forEach=function(e){n.forEach(e)},this.getElementByPos=function(e){if(e<0||i<=e)throw new Error("pos muse more than 0 and less than vector's size");return n[e]},this.setElementByPos=function(e,t){if(e<0||i<=e)throw new Error("pos muse more than 0 and less than vector's size");n[e]=t},this.eraseElementByPos=function(e){if(e<0||i<=e)throw new Error("pos muse more than 0 and less than vector's size");for(var t=e;t<i-1;++t)n[t]=n[t+1];this.pop_back()},this.eraseElementByValue=function(t){var r=[];this.forEach(function(e){e!=t&&r.push(e)}),r.forEach(function(e,t){n[t]=e});for(var e=r.length;e<i;)this.pop_back()},this.insert=function(e,t,r){if(void 0===r&&(r=1),e<0||i<e)throw new Error("pos muse more than 0 and less than or equal to vector's size");n.splice.apply(n,o([e,0],new Array(r).fill(t),!1)),i+=r},this.reverse=function(){n.reverse()},this.unique=function(){var r,o=[];this.forEach(function(e,t){0!==t&&e===r||(o.push(e),r=e)}),o.forEach(function(e,t){n[t]=e});for(var e=o.length;e<i;)this.pop_back()},this.sort=function(e){n.sort(e)},Object.freeze(this)}Object.freeze(t);var i=undefined&&undefined.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};function r(e){var t=(e=void 0===e?[]:e).length,r=i([],e,!0);this.size=function(){return t},this.empty=function(){return 0===t},this.clear=function(){t=0,r.length=0},this.push=function(e){r.push(e),++t},this.pop=function(){r.pop(),0<t&&--t},this.top=function(){return r[t-1]},Object.freeze(this)}Object.freeze(r);var s=function(e){this.val=null,this.pre=null,this.next=null,this.val=e};function n(e){var h=(e=void 0===e?[]:e).length,l=null,i=null;if(0<h){for(var t=l=new s(e[0]),r=1;r<h;++r)t.next=new s(e[r]),t=(t.next.pre=t).next;i=t}this.size=function(){return h},this.empty=function(){return 0===h},this.clear=function(){l=i=null,h=0},this.front=function(){return null==l?void 0:l.val},this.back=function(){return null==i?void 0:i.val},this.push_back=function(e){++h;e=new s(e);i?((i.next=e).pre=i,i=e):l=i=e},this.pop_back=function(){0<h&&--h,i&&(l===i?l=i=null:(i=i.pre)&&(i.next=null))},this.forEach=function(e){if("function"!=typeof e)throw new Error("callback must be a function");for(var t=l,r=0;null!=t;)e(t.val,r++),t=t.next},this.getElementByPos=function(e){if(e<0||h<=e)throw new Error("pos must more then 0 and less then the list length");for(var t=l;e--&&t;)t=t.next;return null==t?void 0:t.val},this.setElementByPos=function(e,t){if(e<0||h<=e)throw new Error("pos must more then 0 and less then the list length");for(var r=l;e--&&r;)r=r.next;r&&(r.val=t)},this.eraseElementByPos=function(e){if(e<0||h<=e)throw new Error("insert pos must more then 0 and less then the list length");if(0===e)this.pop_front();else if(e===h-1)this.pop_back();else{for(var t=l;e--&&null!=t&&t.next;)t=t.next;if(!t||!t.pre||!t.next)throw new Error("unknown error");var r=t.pre,o=t.next;(o.pre=r).next=o,0<h&&--h}},this.eraseElementByValue=function(e){for(;l&&l.val===e;)this.pop_front();for(;i&&i.val===e;)this.pop_back();if(l)for(var t,r,o=l.next;o;)o.val===e&&(t=o.pre,(r=o.next)&&(r.pre=t),t&&(t.next=r),0<h&&--h),o=o.next},this.insert=function(e,t,r){if(void 0===r&&(r=1),e<0||h<e)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(r<0)throw new Error("insert size must more then 0");if(0===e)for(;r--;)this.push_front(t);else if(e===h)for(;r--;)this.push_back(t);else{for(var o=l,i=1;i<e&&(null!=o&&o.next);++i)o=null==o?void 0:o.next;if(!o)throw new Error("unknown error");var n=o.next;for(h+=r;r--;)o.next=new s(t),o=(o.next.pre=o).next;(o.next=n)&&(n.pre=o)}},this.reverse=function(){for(var e=l,t=i,r=0;e&&t&&2*r<h;){var o=e.val;e.val=t.val,t.val=o,e=e.next,t=t.pre,++r}},this.unique=function(){for(var e=l;e;){for(var t=e;t&&t.next&&t.val===t.next.val;)t=t.next,0<h&&--h;e.next=t.next,e=e.next}},this.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);var r=l;t.forEach(function(e){r&&(r.val=e,r=r.next)})},this.push_front=function(e){++h;e=new s(e);l=l?(e.next=l).pre=e:i=e},this.pop_front=function(){0<h&&--h,l&&(l===i?l=i=null:(l=l.next)&&(l.pre=null))},this.merge=function(e){var r=this,o=l;e.forEach(function(e){for(;o&&o.val<=e;)o=o.next;var t;o?o===l?(r.push_front(e),o=l):(++h,(t=o.pre)&&(t.next=new s(e),((t.next.pre=t).next.next=o)&&(o.pre=t.next))):(r.push_back(e),o=i)})},Object.freeze(this)}function h(e){var t=new n(e=void 0===e?[]:e);this.size=function(){return t.size()},this.empty=function(){return t.empty()},this.clear=function(){t.clear()},this.push=function(e){t.push_back(e)},this.pop=function(){t.pop_front()},this.front=function(){return t.front()},Object.freeze(this)}function C(e){var f=[],u=0,a=0,c=0,d=0,p=0,v=(e=void 0===e?[]:e).length,t=v*C.sigma,p=Math.ceil(t/C.bucketSize);p=Math.max(p,3);for(var r=0;r<p;++r)f.push(new Array(C.bucketSize));var o=Math.ceil(v/C.bucketSize),c=u=Math.floor(p/2)-Math.floor(o/2);if(0<v)for(var i=0,r=0;r<o;++r){for(var n=0;n<C.bucketSize;++n)if(f[u+r][n]=e[i++],v<=i){c=u+r,d=n;break}if(v<=i)break}this.size=function(){return v},this.empty=function(){return 0===v},this.clear=function(){u=c=a=d=p=v=0};var h=function(e){for(var t=[],r=Math.max(Math.ceil(e*C.sigma/C.bucketSize),2),o=0;o<r;++o)t.push(new Array(C.bucketSize));var i=Math.ceil(e/C.bucketSize),n=Math.floor(r/2)-Math.floor(i/2),h=n,l=0;if(this.size())for(o=0;o<i;++o){for(var s=0;s<C.bucketSize;++s)if(t[n+o][s]=this.front(),this.pop_front(),this.empty()){h=n+o,l=s;break}if(this.empty())break}f=t,u=n,a=0,c=h,d=l,p=r,v=e};this.front=function(){return f[u][a]},this.back=function(){return f[c][d]},this.push_back=function(e){this.empty()||(c===p-1&&d===C.bucketSize-1&&h.call(this,this.size()),d<C.bucketSize-1?++d:c<p-1&&(++c,d=0)),++v,f[c][d]=e},this.pop_back=function(){this.empty()||(1!==this.size()&&(0<d?--d:u<c&&(--c,d=C.bucketSize-1)),0<v&&--v)},this.forEach=function(e){if(!this.empty()){var t=0;if(u!==c){for(o=a;o<C.bucketSize;++o)e(f[u][o],t++);for(o=u+1;o<c;++o)for(var r=0;r<C.bucketSize;++r)e(f[o][r],t++);for(o=0;o<=d;++o)e(f[c][o],t++)}else for(var o=a;o<=d;++o)e(f[u][o],t++)}};var s=function(e){var t=u*C.bucketSize+a,e=t+e;if(e<t||c*C.bucketSize+d<e)throw new Error("pos should more than 0 and less than queue's size");return{curNodeBucketIndex:Math.floor(e/C.bucketSize),curNodePointerIndex:e%C.bucketSize}};this.getElementByPos=function(e){var t=s(e),e=t.curNodeBucketIndex,t=t.curNodePointerIndex;return f[e][t]},this.setElementByPos=function(e,t){var r=s(e),e=r.curNodeBucketIndex,r=r.curNodePointerIndex;f[e][r]=t},this.eraseElementByPos=function(e){var t=this;if(0===e)this.pop_front();else if(e===this.size())this.pop_back();else{for(var r=[],o=e+1;o<v;++o)r.push(this.getElementByPos(o));this.cut(e),this.pop_back(),r.forEach(function(e){return t.push_back(e)})}},this.eraseElementByValue=function(t){var r=[];this.forEach(function(e){e!=t&&r.push(e)});for(var e=r.length,o=0;o<e;++o)this.setElementByPos(o,r[o]);this.cut(e-1)},this.insert=function(e,t,r){var o=this;if(void 0===r&&(r=1),0===e)for(;r--;)this.push_front(t);else if(e===this.size())for(;r--;)this.push_back(t);else{for(var i=s(e),n=i.curNodeBucketIndex,i=i.curNodePointerIndex,h=[],l=e;l<v;++l)h.push(this.getElementByPos(l));c=n,d=i,v=e+1,this.pop_back();for(l=0;l<r;++l)this.push_back(t);h.forEach(function(e){return o.push_back(e)})}},this.reverse=function(){for(var e=0,t=v-1;e<t;){var r=this.getElementByPos(e);this.setElementByPos(e,this.getElementByPos(t)),this.setElementByPos(t,r),++e,--t}},this.unique=function(){if(!this.empty()){var r=[],o=this.front();this.forEach(function(e,t){0!==t&&e===o||(r.push(e),o=e)});for(var e=0;e<v;++e)this.setElementByPos(e,r[e]);this.cut(r.length-1)}},this.sort=function(e){var t=[];this.forEach(function(e){t.push(e)}),t.sort(e);for(var r=0;r<v;++r)this.setElementByPos(r,t[r])},this.push_front=function(e){this.empty()||(0===u&&0===a&&h.call(this,this.size()),0<a?--a:0<u&&(--u,a=C.bucketSize-1)),++v,f[u][a]=e},this.pop_front=function(){this.empty()||(1!==this.size()&&(a<C.bucketSize-1?++a:u<c&&(++u,a=0)),0<v&&--v)},this.shrinkToFit=function(){var t=[];this.forEach(function(e){t.push(e)});var e=t.length;f=[];for(var r=Math.ceil(e/C.bucketSize),o=0;o<r;++o)f.push(new Array(C.bucketSize));this.clear();for(var i=0,o=0;o<r;++o)for(var n=0;n<C.bucketSize;++n)if(f[o][n]=t[i++],e<=i){c=o,d=n;break}v=e},this.cut=function(e){var t=s(e),r=t.curNodeBucketIndex,t=t.curNodePointerIndex;c=r,d=t,v=e+1},Object.freeze(this)}Object.freeze(n),Object.freeze(h),C.sigma=3,C.bucketSize=5e3,Object.freeze(C);var u=undefined&&undefined.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var o,i=0,n=t.length;i<n;i++)!o&&i in t||((o=o||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))};function l(e,n){n=n||function(e,t){return t<e?-1:e<t?1:0};for(var h=(e=void 0===e?[]:e).length,l=u([],e,!0),o=function(e,t){if(e<0||h<=e)throw new Error("unknown error");if(t<0||h<=t)throw new Error("unknown error");var r=l[e];l[e]=l[t],l[t]=r},t=Math.floor((h-1)/2);0<=t;--t)for(var r=t,i=2*r+1;i<h;){var s=i+1,f=i;if(s<h&&0<n(l[i],l[s])&&(f=s),n(l[r],l[f])<=0)break;o(r,f),i=2*(r=f)+1}this.size=function(){return h},this.empty=function(){return 0===h},this.clear=function(){h=0,l.length=0},this.push=function(e){if(l.push(e),1!==++h)for(var t=h-1;0<t;){var r=Math.floor((t-1)/2);if(n(l[r],e)<=0)break;!function(e){if(e<0||h<=e)throw new Error("unknown error");var t=2*e+1,r=2*e+2;t<h&&0<n(l[e],l[t])&&o(e,t),r<h&&0<n(l[e],l[r])&&o(e,r)}(r),t=r}},this.pop=function(){if(!this.empty())if(1!==this.size()){var e=l[h-1];--h;for(var t=0;t<this.size();){var r=2*t+1,o=2*t+2;if(r>=this.size())break;var i=r;if(o<this.size()&&0<n(l[r],l[o])&&(i=o),0<=n(l[i],e))break;l[t]=l[i],t=i}l[t]=e}else--h},this.top=function(){return l[0]},Object.freeze(this)}Object.freeze(l);var c=(f.prototype.rotateLeft=function(){var e=this.parent,t=this.brother,r=this.leftChild,o=this.rightChild;if(!o)throw new Error("unknown error");var i=o.leftChild,n=o.rightChild;return e&&(e.leftChild===this?e.leftChild=o:e.rightChild===this&&(e.rightChild=o)),o.parent=e,o.brother=t,o.leftChild=this,o.rightChild=n,t&&(t.brother=o),this.parent=o,this.brother=n,this.leftChild=r,this.rightChild=i,n&&(n.parent=o,n.brother=this),r&&(r.parent=this,r.brother=i),i&&(i.parent=this,i.brother=r),o},f.prototype.rotateRight=function(){var e=this.parent,t=this.brother,r=this.leftChild;if(!r)throw new Error("unknown error");var o=this.rightChild,i=r.leftChild,n=r.rightChild;return e&&(e.leftChild===this?e.leftChild=r:e.rightChild===this&&(e.rightChild=r)),r.parent=e,r.brother=t,r.leftChild=i,r.rightChild=this,t&&(t.brother=r),i&&(i.parent=r,i.brother=this),this.parent=r,this.brother=i,this.leftChild=n,this.rightChild=o,n&&(n.parent=this,n.brother=o),o&&(o.parent=this,o.brother=n),r},f.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=null:this===this.parent.rightChild&&(this.parent.rightChild=null)),this.brother&&(this.brother.brother=null),this.value=null,this.parent=null,this.brother=null},f.TreeNodeColorType={red:"0",black:"1"},f);function f(e){this.value=null,this.parent=null,this.brother=null,this.leftChild=null,this.rightChild=null,e!==undefined&&(this.value=e),this.color=f.TreeNodeColorType.red}Object.freeze(c),e.Deque=C,e.LinkList=n,e.PriorityQueue=l,e.Queue=h,e.Set=function(e,i){var t=this;void 0===e&&(e=[]),i=i||function(e,t){return e<t?-1:t<e?1:0};var n=0,h=new c;h.color=c.TreeNodeColorType.black,this.size=function(){return n},this.empty=function(){return 0===n},this.clear=function(){n=0,(h=new c).color=c.TreeNodeColorType.black},this.forEach=function(t){var r=0,o=function(e){e&&(o(e.leftChild),null!==e.value&&t(e.value,r++),o(e.rightChild))};o(h)};var o=function(e,t){if(!e||null===e.value)throw new Error("unknown error");var r=i(t,e.value);return r<0?e.leftChild?o(e.leftChild,t):(e.leftChild=new c,(e.leftChild.parent=e).leftChild.brother=e.rightChild,e.rightChild&&(e.rightChild.brother=e.leftChild),e.leftChild):0<r?e.rightChild?o(e.rightChild,t):(e.rightChild=new c,(e.rightChild.parent=e).rightChild.brother=e.leftChild,e.leftChild&&(e.leftChild.brother=e.rightChild),e.rightChild):e},l=function(e){var t=e.parent;if(!t){if(e===h)return;throw new Error("unknown error")}if(t.color!==c.TreeNodeColorType.black&&t.color===c.TreeNodeColorType.red){var r,o=t.brother,i=t.parent;if(!i)throw new Error("unknown error");o&&o.color===c.TreeNodeColorType.red?(o.color=t.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,l(i)):o&&o.color!==c.TreeNodeColorType.black||(t===i.leftChild?e===t.leftChild?(t.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,r=i.rotateRight(),i===h&&(h=r)):e===t.rightChild&&(r=t.rotateLeft(),i===h&&(h=r),l(t)):t===i.rightChild&&(e===t.leftChild?(r=t.rotateRight(),i===h&&(h=r),l(t)):e===t.rightChild&&(t.color=c.TreeNodeColorType.black,i.color=c.TreeNodeColorType.red,r=i.rotateLeft(),i===h&&(h=r))))}};this.insert=function(e){if(this.empty())return++n,h.value=e,void(h.color=c.TreeNodeColorType.black);var t=o(h,e);t.value&&0===i(t.value,e)||(++n,t.value=e,l(t),h.color=c.TreeNodeColorType.black)};var s=function(e){var t=e.parent;if(!t){if(e===h)return;throw new Error("unknown error")}if(e.color!==c.TreeNodeColorType.red){var r,o=e.brother;if(!o)throw new Error("unknown error");e===t.leftChild?o.color===c.TreeNodeColorType.red?(o.color=c.TreeNodeColorType.black,t.color=c.TreeNodeColorType.red,r=t.rotateLeft(),h===t&&(h=r),s(e)):o.color===c.TreeNodeColorType.black&&(o.rightChild&&o.rightChild.color===c.TreeNodeColorType.red?(o.color=t.color,t.color=c.TreeNodeColorType.black,o.rightChild&&(o.rightChild.color=c.TreeNodeColorType.black),r=t.rotateLeft(),h===t&&(h=r)):o.rightChild&&o.rightChild.color!==c.TreeNodeColorType.black||!o.leftChild||o.leftChild.color!==c.TreeNodeColorType.red?o.leftChild&&o.leftChild.color!==c.TreeNodeColorType.black||o.rightChild&&o.rightChild.color!==c.TreeNodeColorType.black||(o.color=c.TreeNodeColorType.red,t.color=c.TreeNodeColorType.black):(o.color=c.TreeNodeColorType.red,o.leftChild&&(o.leftChild.color=c.TreeNodeColorType.black),r=o.rotateRight(),h===o&&(h=r),s(e))):e===t.rightChild&&(o.color===c.TreeNodeColorType.red?(o.color=c.TreeNodeColorType.black,t.color=c.TreeNodeColorType.red,r=t.rotateRight(),h===t&&(h=r),s(e)):o.color===c.TreeNodeColorType.black&&(o.leftChild&&o.leftChild.color===c.TreeNodeColorType.red?(o.color=t.color,t.color=c.TreeNodeColorType.black,o.leftChild&&(o.leftChild.color=c.TreeNodeColorType.black),r=t.rotateRight(),h===t&&(h=r)):o.leftChild&&o.leftChild.color!==c.TreeNodeColorType.black||!o.rightChild||o.rightChild.color!==c.TreeNodeColorType.red?o.leftChild&&o.leftChild.color!==c.TreeNodeColorType.black||o.rightChild&&o.rightChild.color!==c.TreeNodeColorType.black||(o.color=c.TreeNodeColorType.red,t.color=c.TreeNodeColorType.black):(o.color=c.TreeNodeColorType.red,o.rightChild&&(o.rightChild.color=c.TreeNodeColorType.black),r=o.rotateLeft(),h===o&&(h=r),s(e))))}},f=function(e){if(!e||null===e.value)throw new Error("unknown error");return e.leftChild?f(e.leftChild):e},u=function(e){if(!e||null===e.value)throw new Error("unknown error");return e.rightChild?u(e.rightChild):e};this.erase=function(e){if(!this.empty()){var t=a(h,e);if(null!==t&&null!==t.value&&0===i(t.value,e)){for(var r,o=t;o.leftChild||o.rightChild;)o.rightChild&&(o=f(o.rightChild),r=t.value,t.value=o.value,o.value=r,t=o),o.leftChild&&(o=u(o.leftChild),r=t.value,t.value=o.value,o.value=r,t=o);s(o),o&&o.remove(),--n,h.color=c.TreeNodeColorType.black}}};var a=function(e,t){if(!e||null===e.value)return null;var r=i(t,e.value);return r<0?a(e.leftChild,t):0<r?a(e.rightChild,t):e};this.find=function(e){var t=a(h,e);return null!==t&&null!==t.value&&0===i(t.value,e)},this.union=function(e){var t=this;e.forEach(function(e){return t.insert(e)})},this.getHeight=function(){if(this.empty())return 0;var t=function(e){return e?Math.max(t(e.leftChild),t(e.rightChild))+1:1};return t(h)},e.forEach(function(e){return t.insert(e)}),Object.freeze(this)},e.Stack=r,e.Vector=t,Object.defineProperty(e,"__esModule",{value:!0})});